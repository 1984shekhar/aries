
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
  <HEAD>
    <LINK type="text/css" rel="stylesheet" href="resources/site.css">
    <SCRIPT src="resources/space.js" type="text/javascript"></SCRIPT>
    <TITLE>
3. Installation
    </TITLE>
  <META http-equiv="Content-Type" content="text/html;charset=UTF-8"></HEAD>
  <BODY onload="init()">

    <!-- Banner -->
    <DIV id="site-banner">
    </DIV>

      <DIV id="site-content">
        <TABLE>
        <TR>
        <TD valign="top">
          <DIV id="site-page">
            <DIV class="wiki-content"><STYLE type="text/css">/*<![CDATA[*/
table.ScrollbarTable  {border: none;padding: 3px;width: 100%;padding: 3px;margin: 0px;background-color: #f0f0f0}
table.ScrollbarTable td.ScrollbarPrevIcon {text-align: center;width: 16px;border: none;}
table.ScrollbarTable td.ScrollbarPrevName {text-align: left;border: none;}
table.ScrollbarTable td.ScrollbarParent {text-align: center;border: none;}
table.ScrollbarTable td.ScrollbarNextName {text-align: right;border: none;}
table.ScrollbarTable td.ScrollbarNextIcon {text-align: center;width: 16px;border: none;}

/*]]>*/</STYLE><DIV class="Scrollbar"><TABLE class="ScrollbarTable"><TR><TD class="ScrollbarPrevIcon"><A href="2-introduction.html"><IMG border="0" align="middle" src="http://goopen.org/confluence/images/icons/back_16.gif" width="16" height="16"></A></TD><TD width="33%" class="ScrollbarPrevName"><A href="2-introduction.html">2. Introduction</A>&nbsp;</TD><TD width="33%" class="ScrollbarParent"><SUP><A href="users-guide.html"><IMG border="0" align="middle" src="http://goopen.org/confluence/images/icons/up_16.gif" width="8" height="8"></A></SUP><A href="users-guide.html">User&apos;s Guide</A></TD><TD width="33%" class="ScrollbarNextName">&nbsp;<A href="4-examples.html">4. Examples</A></TD><TD class="ScrollbarNextIcon"><A href="4-examples.html"><IMG border="0" align="middle" src="http://goopen.org/confluence/images/icons/forwd_16.gif" width="16" height="16"></A></TD></TR></TABLE></DIV>
<P><A name="3.Installation-top"></A></P>

<H1><A name="3.Installation-3.Installation"></A>3. Installation</H1>

<P>This document describes how to install and configure ServiceMix 3.x for both Unix and Windows&apos; platforms.<BR>
Here you will find information about what are pre requisite software, where to download Geronimo from and how to customize the installation to use custom ports other than the defaults.</P>

<P>This article contains the following sections:</P>
<DIV>
<UL>
  <LI><A href="#3.Installation-PreInstallationRequirements">Pre-Installation Requirements</A></LI>
  <LI><A href="#3.Installation-InstallationProcedureforWindows">Installation Procedure for Windows</A>
<UL>
  <LI><A href="#3.Installation-WindowsBinaryInstallation">Windows Binary Installation</A></LI>
  <LI><A href="#3.Installation-WindowsSourceInstallation">Windows Source Installation</A></LI>
  <LI><A href="#3.Installation-WindowsDevelopers%2527Release">Windows Developers&apos; Release</A></LI>
</UL></LI>
  <LI><A href="#3.Installation-InstallationProcedureForUnix">Installation Procedure For Unix</A>
<UL>
  <LI><A href="#3.Installation-UnixBinaryInstallation">Unix Binary Installation</A></LI>
  <LI><A href="#3.Installation-UnixSourceInstallation">Unix Source Installation</A></LI>
  <LI><A href="#3.Installation-UnixDevelopers%2527Release">Unix Developers&apos; Release</A></LI>
</UL></LI>
  <LI><A href="#3.Installation-StartingServiceMix">Starting ServiceMix</A>
<UL>
  <LI><A href="#3.Installation-OnWindows">On Windows</A>
<UL>
  <LI><A href="#3.Installation-Troubleshooting">Troubleshooting</A></LI>
</UL></LI>
  <LI><A href="#3.Installation-OnUnix">On Unix</A>
<UL>
  <LI><A href="#3.Installation-Troubleshooting">Troubleshooting</A></LI>
</UL></LI>
</UL></LI>
  <LI><A href="#3.Installation-TestingtheInstallation">Testing the Installation</A></LI>
  <LI><A href="#3.Installation-StoppingServiceMix">Stopping ServiceMix</A></LI>
  <LI><A href="#3.Installation-ConfiguringServiceMix">Configuring ServiceMix</A></LI>
</UL></DIV>

<H2><A name="3.Installation-PreInstallationRequirements"></A>Pre-Installation Requirements</H2>

<P><B>Hardware:</B></P>
<UL>
	<LI>31 MB of free disk space for the ServiceMix 3.0.x binary distribution.</LI>
	<LI>8 MB of free disk space for the ServiceMix 3.0.x source or developer&apos;s distributions respectively around 25 MB for SVN checkout. The Maven build requires roughly 250 MB disk space and for the dependencies Maven downloads during building further 200 MB are required. As a lot of small files are produced, the exact space demands depend greatly on your cluster utilisation ratio.</LI>
</UL>


<P><B>Operating Systems:</B></P>
<UL>
	<LI>Windows: Windows XP SP2, Windows 2000.</LI>
	<LI>Unix: Ubuntu Linux, Powerdog Linux, MacOS, AIX, HP-UX, Solaris, any Unix platform that supports Java.</LI>
</UL>


<P><B>Environment:</B></P>
<UL>
	<LI>Java Developer Kit (JDK) 1.5.x or greater (<SPAN class="nobr"><A href="http://java.sun.com/" title="Visit page outside Confluence" rel="nofollow">http://java.sun.com/<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="0" width="0" align="absmiddle" alt="" border="0"></SUP></A></SPAN>).</LI>
	<LI>The JAVA_HOME environment variable must be set to the directory where the JDK is installed, e.g., <TT>c:\Program Files\jdk.1.5.0_06</TT>. To accomplish that, press Windows key and Break key together, switch to &quot;Advanced&quot; tab and click on &quot;Environment Variables&quot;. Here, check for the variable and, if necessary, add it.</LI>
	<LI>Apache Maven 2.0.4 (<SPAN class="nobr"><A href="http://maven.apache.org/download.html" title="Visit page outside Confluence" rel="nofollow">http://maven.apache.org/download.html<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="0" width="0" align="absmiddle" alt="" border="0"></SUP></A></SPAN>).</LI>
</UL>


<H2><A name="3.Installation-InstallationProcedureforWindows"></A>Installation Procedure for Windows</H2>

<P>This section of the Getting Started guide explains how to install binary and source distributions of ServiceMix on a Windows system.</P>
<TABLE cellpadding="5" width="85%" cellspacing="8px" class="tipMacro" border="0" align="center"><COLGROUP><COL width="24"><COL></COLGROUP><TR><TD valign="top"><IMG src="http://goopen.org/confluence/images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></TD><TD><B class="strong">Handy Hint</B><BR>
<P>In case you have to install ServiceMix into a very deep path or a path containing illegal characters for Java paths, e.g. &#33;, % etc., you may add a bat file to <EM>start &#45;&gt; startup</EM> that executes</P>
<DIV class="preformatted"><DIV class="preformattedContent">
<PRE>subst S: &quot;C:\your very % problematic path!\SM&quot;
</PRE>
</DIV></DIV>
<P>so your ServiceMix root directory is _S:&#95; &mdash; which works for sure and is short to type.</P></TD></TR></TABLE>

<H3><A name="3.Installation-WindowsBinaryInstallation"></A>Windows Binary Installation</H3>

<P>This procedure explains how to download and install the binary distribution on a Windows system.</P>
<OL>
	<LI>From a browser, navigate to <SPAN class="nobr"><A href="http://incubator.apache.org/servicemix/download.html" title="Visit page outside Confluence" rel="nofollow">http://incubator.apache.org/servicemix/download.html<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="0" width="0" align="absmiddle" alt="" border="0"></SUP></A></SPAN>.</LI>
	<LI>Click the &quot;ServiceMix 3.0.x Release&quot; link under the &quot;Latest Releases&quot; section. This brings up a new page.</LI>
	<LI>Under the &quot;Download Here&quot; section, select the desired distribution (you may have to scroll down to see the &quot;Download Here&quot; section).<BR>
For a binary distribution, the filename will be similar to: <TT>apache-servicemix-3.0.x.zip</TT>.</LI>
	<LI>Extract the files from the ZIP file into a directory of your choice. Please remember the restrictions concerning illegal characters in Java paths, e.g. &#33;, % etc.</LI>
	<LI>Proceed to the <A href="#3.Installation-StartingServiceMix" title="Starting ServiceMix on 3. Installation">Starting ServiceMix</A> section of this document.</LI>
	<LI>Following start-up, go to the <A href="#3.Installation-TestingtheInstallation" title="Testing the Installation on 3. Installation">Testing the Installation</A> section of this document.</LI>
</OL>


<H3><A name="3.Installation-WindowsSourceInstallation"></A>Windows Source Installation</H3>

<P>This procedure explains how to download and install the source distribution on a Windows system. <B>NOTE:</B> ServiceMix can be run on a Java 1.4.x system, however, Java 5 is required to compile/build ServiceMix.</P>
<OL>
	<LI>From a browser, navigate to <SPAN class="nobr"><A href="http://incubator.apache.org/servicemix/download.html" title="Visit page outside Confluence" rel="nofollow">http://incubator.apache.org/servicemix/download.html<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="0" width="0" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	<LI>Click the &quot;ServiceMix 3.0.x Release&quot; link under the &quot;Latest Releases&quot; section. This brings up another page.</LI>
	<LI>Under the &quot;Download Here&quot; section, select the desired distribution (if necessary, scroll down to see the &quot;Download Here&quot; section).<BR>
For a source distribution, the filename will be similar to: <TT>apache-servicemix-3.0.x-src.zip</TT>.</LI>
	<LI>Extract ServiceMix from the ZIP file into a directory of your choice. Please remember the restrictions concerning illegal characters in Java paths, e.g. &#33;, % etc.</LI>
	<LI><A name="3.Installation-WindowsSourceInstallation"></A> Build ServiceMix using Maven 2.0.4 or greater and Java 5.<BR>
The recommended method of building ServiceMix is the following:
<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">cd [servicemix_install_dir]</PRE>
</DIV></DIV>
<P> where <TT>[servicemix_install_dir]</TT> is the directory in which ServiceMix was installed.</P>
<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">mvn -Dprofile=step1
mvn -Dprofile=step2</PRE>
</DIV></DIV>
<P>Both steps take around 10 to 15 minutes.</P></LI>
	<LI>Unzip the distribution using your favorite zip tool. The windows distribution is available at
<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">[servicemix_install_dir]\apache-servicemix\target\apache-servicemix-3.0-incubating.zip</PRE>
</DIV></DIV></LI>
	<LI>Proceed to the <A href="#3.Installation-StartingServiceMix" title="Starting ServiceMix on 3. Installation">Starting ServiceMix</A> section of this document.</LI>
	<LI>Following start-up, go to the <A href="#3.Installation-TestingtheInstallation" title="Testing the Installation on 3. Installation">Testing the Installation</A> section of this document.</LI>
</OL>


<P><EM>Warning:</EM> If you are building Servicemix 3.x under Windows using Cygwin there is a path name length limitation. If the length is exceeded you may see build errors. To fix this, move the ServiceMix source directory higher in the file system tree, e.g., /cygdrive/c/d/sm.</P>

<H3><A name="3.Installation-WindowsDevelopers%27Release"></A>Windows Developers&apos; Release</H3>

<P>This procedure explains how to download and install the latest developers&apos; snapshot. <B>NOTE:</B> ServiceMix can be run on a Java 1.4.x system, however, Java 5 is required to compile/build ServiceMix.</P>
<OL>
	<LI>From a browser, navigate to <SPAN class="nobr"><A href="http://www.servicemix.org/" title="Visit page outside Confluence" rel="nofollow">www.servicemix.org<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="0" width="0" align="absmiddle" alt="" border="0"></SUP></A></SPAN>.</LI>
	<LI>Click the Download link in the navigation pane (the left pane).</LI>
	<LI>Click the &quot;Current development SNAPSHOT release&quot; link.</LI>
	<LI>Select the version of ServiceMix to download (if necessary, scroll down to see the ServiceMix snapshots).</LI>
	<LI>Extract the files from the ZIP file into a directory of your choice. Please remember the restrictions concerning illegal characters in Java paths, e.g. &#33;, % etc.</LI>
	<LI>If a binary snapshot was downloaded proceed to the <A href="#3.Installation-StartingServiceMix" title="Starting ServiceMix on 3. Installation">Starting ServiceMix</A> section of this document.<BR>
If a source snapshot was downloaded perform step 5 (building) and step 6 (unzipping) of the <A href="#3.Installation-WindowsSourceInstallation" title="Windows Source Installation on 3. Installation">Windows Source Installation</A> procedure and proceed to the <A href="#3.Installation-StartingServiceMix" title="Starting ServiceMix on 3. Installation">Starting ServiceMix</A> section of this document.</LI>
	<LI>Following start-up, proceed to the <A href="#3.Installation-TestingtheInstallation" title="Testing the Installation on 3. Installation">Testing the Installation</A> section.</LI>
</OL>


<H2><A name="3.Installation-InstallationProcedureForUnix"></A>Installation Procedure For Unix</H2>


<H3><A name="3.Installation-UnixBinaryInstallation"></A>Unix Binary Installation</H3>

<P>This procedure explains how to download and install the binary distribution on a Unix system.</P>
<OL>
	<LI>Download the ServiceMix gzip file to the Unix machine, either using a browser or using a tool, i.e., wget, scp, ftp, etc.<BR>
If the Unix machine has a browser:</LI>
</OL>


<P>a. Navigate to <SPAN class="nobr"><A href="http://www.servicemix.org/" title="Visit page outside Confluence" rel="nofollow">www.servicemix.org<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="0" width="0" align="absmiddle" alt="" border="0"></SUP></A></SPAN>.<BR>
b. Click the &quot;Download&quot; link in the navigation pane (the left pane).<BR>
c. Click the &quot;ServiceMix 3.x Release&quot; link under the &quot;Latest Releases&quot; section. This brings up a new page.<BR>
d. Under the &quot;Download Here&quot; section, select the desired distribution (if necessary,<BR>
scroll down to see the &quot;Download Here&quot; section). For a binary Unix distribution, the filename<BR>
will be similar to: apache-servicemix-x.x.x.tar.gz.</P>

<P>OR</P>

<P>If the Unix machine does NOT have a browser, tools such as wget, scp, or ftp can be used to download the ServiceMix distribution.<BR>
It is beyond the scope of this document to explain the use of those tools. For convenience an example is provided below using<BR>
a Windows machine (that has a browser) and a Unix machine with &quot;wget&quot; installed on it.<BR>
<B>NOTE:</B> There are several alternative ways to perform this type of installation.</P>

<P>a. Obtain the link to the ServiceMix distribution file. On the Windows machine with a browser, navigate to <SPAN class="nobr"><A href="http://www.servicemix.org/" title="Visit page outside Confluence" rel="nofollow">www.servicemix.org<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="0" width="0" align="absmiddle" alt="" border="0"></SUP></A></SPAN>.<BR>
b. Click the &quot;Download&quot; link in the left navigation pane.<BR>
c. Click the &quot;ServiceMix 3.x Release&quot; link under the &quot;Latest Releases&quot; section. This brings up a new page.<BR>
d. Under the &quot;Download Here&quot; section, roll-over the desired distribution (if necessary, scroll<BR>
down to see the &quot;Download Here&quot; section). For a binary Unix distribution the filename will be<BR>
similar to: servicemix-x.x.x.tar.gz.<BR>
e. Right-click on the distribution name and &quot;Copy Shortcut.&quot;<BR>
f. On the Unix machine, change to the directory in which ServiceMix will be installed, e.g., /usr/local.<BR>
f. Download the ServiceMix distribution to the Unix machine using the &quot;wget&quot; tool. For example, type &quot;wget&quot; followed by the saved shortcut:</P>
<DIV class="preformatted"><DIV class="preformattedContent">
<PRE>wget http://people.apache.org/repo/m2-incubating-repository/org/apache/servicemix/apache-servicemix/3.0-incubating/apache-servicemix-3.0-incubating-src.tar.gz
</PRE>
</DIV></DIV>
<OL>
	<LI>Extract the files from the gzip file into a directory of your choice. For example:
<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">gunzip apache-servicemix-x.x.x.tar.gz
tar xvf apache-servicemix-x.x.x.tar</PRE>
</DIV></DIV>
<P>Please remember the restrictions concerning illegal characters in Java paths, e.g. &#33;, % etc.</P></LI>
	<LI>Proceed to the <A href="#3.Installation-StartingServiceMix" title="Starting ServiceMix on 3. Installation">Starting ServiceMix</A> section of this document.</LI>
	<LI>Following start-up, go to the <A href="#3.Installation-TestingtheInstallation" title="Testing the Installation on 3. Installation">Testing the Installation</A> section.</LI>
</OL>


<H3><A name="3.Installation-UnixSourceInstallation"></A>Unix Source Installation</H3>

<P>This procedure explains how to download and install the source distribution on a Unix system. This procedure assumes the Unix machine has a browser. Please see the previous <A href="#3.Installation-UnixBinaryInstallation" title="Unix Binary Installation on 3. Installation">Unix Binary Installation</A> section for ideas on how to install ServiceMix without a browser. <B>NOTE:</B> ServiceMix can be run on a Java 1.4.x system, however, Java 5 is required to compile/build ServiceMix.</P>
<OL>
	<LI>From a browser, navigate to <SPAN class="nobr"><A href="http://www.servicemix.org/" title="Visit page outside Confluence" rel="nofollow">www.servicemix.org<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="0" width="0" align="absmiddle" alt="" border="0"></SUP></A></SPAN>.</LI>
	<LI>Click the &quot;Download&quot; link in the navigation pane (the left pane).</LI>
	<LI>Click the &quot;ServiceMix 3.x Release&quot; link under the &quot;Latest Releases&quot; section. This brings up a new page.</LI>
	<LI>Under the &quot;Download Here&quot; section, select the desired distribution (if necessary, scroll down to see the &quot;Download Here&quot; section).<BR>
For a source distribution, the filename will be similar to: <TT>servicemix-x.x-src.tar.gz</TT>.</LI>
	<LI>Extract the files from the ZIP file into a directory of your choice. For example:
<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">gunzip apache-servicemix.x.x-src.tar.gz
tar xvf apache-servicemix.x.x-src.tar</PRE>
</DIV></DIV>
<P>Please remember the restrictions concerning illegal characters in Java paths, e.g. &#33;, % etc.</P></LI>
	<LI>Build ServiceMix using Maven 2.0.4 or greater and Java 5:
<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">The preferred method of building ServiceMix is the following:
cd [servicemix_install_dir]
 where [servicemix_install_dir] is the directory in which ServiceMix was installed.
mvn -Dprofile=step1
mvn -Dprofile=step2</PRE>
</DIV></DIV>
<P>Both steps take around 10 to 15 minutes.</P></LI>
	<LI>Uncompress the distribution that has just been created
<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">cd [servicemix_install_dir]/apache-servicemix/target
gunzip apache-servicemix-3.0-incubating.tar.gz
tar xvf apache-servicemix-3.0-incubating.tar</PRE>
</DIV></DIV></LI>
	<LI>Proceed to the <A href="#3.Installation-StartingServiceMix" title="Starting ServiceMix on 3. Installation">Starting ServiceMix</A> section of this document.</LI>
	<LI>Following start-up, go to the <A href="#3.Installation-TestingtheInstallation" title="Testing the Installation on 3. Installation">Testing the Installation</A> section.</LI>
</OL>


<H3><A name="3.Installation-UnixDevelopers%27Release"></A>Unix Developers&apos; Release</H3>

<P>This procedure explains how to download and install the latest developers&apos; snapshot. <B>NOTE:</B> ServiceMix can be run on a Java 1.4.x system, however, Java 5 is required to compile/build ServiceMix.</P>
<OL>
	<LI>From a browser, navigate to www.servicemix.org.</LI>
	<LI>Click the Download link in the navigation pane (the left pane).</LI>
	<LI>Click the &quot;Current development SNAPSHOT release&quot; link.</LI>
	<LI>Select the version of ServiceMix to download (you may have to scroll down to see the ServiceMix snapshots). The filename will be similar to: <TT>servicemix-x.x.x-tar.gz</TT> or <TT>servicemix-x.x.x-src.tar.gz</TT>.</LI>
	<LI>Extract the files from the gzip file into a directory of your choice. For example:
<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">For a binary developer&apos;s snapshot:
 gunzip apache-servicemix-x.x-x.tar.gz
 tar xvf apache-servicemix-x.x.x.tar

For a source developer&apos;s snapshot:
 gunzip apache-servicemix-x.x.x-src.tar.gz
 tar xvf apache-servicemix-x.x.x-src.tar</PRE>
</DIV></DIV>
<P>Please remember the restrictions concerning illegal characters in Java paths, e.g. &#33;, % etc.</P></LI>
	<LI>For a binary snapshot, proceed to the <A href="#3.Installation-StartingServiceMix" title="Starting ServiceMix on 3. Installation">Starting ServiceMix</A> section of this document.<BR>
If a source snapshot was downloaded perform steps 6 - 8 (building, uncompressing, starting) of the <A href="#3.Installation-UnixSourceInstallation" title="Unix Source Installation on 3. Installation">Unix Source Installation</A> procedure.</LI>
	<LI>Proceed to the <A href="#3.Installation-TestingtheInstallation" title="Testing the Installation on 3. Installation">Testing the Installation</A> section.</LI>
</OL>


<H2><A name="3.Installation-StartingServiceMix"></A>Starting ServiceMix</H2>


<H3><A name="3.Installation-OnWindows"></A>On Windows</H3>

<P>From a console window, change to the installation directory and run <TT>ServiceMix</TT>. For the binary distribution, go to</P>
<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">cd [servicemix_install_dir]</PRE>
</DIV></DIV>
<P>and for the source distribution go to the target directory, for example:</P>
<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">cd [servicemix_install_dir]\apache-servicemix\target\apache-servicemix-3.0-incubating-SNAPSHOT</PRE>
</DIV></DIV>
<P>where <TT>servicemix_install_dir</TT> is the directory in which ServiceMix was installed, e.g., <TT>c:\Program Files\servicemix-3.x</TT>.</P>

<P>Then type:</P>
<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">bin\servicemix</PRE>
</DIV></DIV>
<P><EM>Note:</EM> Working directories get created relative to the current directory. For the working directories to be created in the proper place, ServiceMix must be launched from its home/installation directory.</P>

<H4><A name="3.Installation-Troubleshooting"></A>Troubleshooting</H4>

<P>In case you get a</P>
<DIV class="preformatted"><DIV class="preformattedContent">
<PRE>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException
</PRE>
</DIV></DIV>
<P>you may have some illegal characters in the path, e.g. &#33;, % etc.</P>

<H3><A name="3.Installation-OnUnix"></A>On Unix</H3>

<P>From a command shell, change to the installation directory and run <TT>ServiceMix</TT>. For the binary distribution, go to</P>
<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">cd [servicemix_install_dir]</PRE>
</DIV></DIV>
<P>and for the source distribution go to the target directory, for example:</P>
<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">cd [servicemix_install_dir]/apache-servicemix/target/apache-servicemix-3.0-incubating</PRE>
</DIV></DIV>
<P>where <TT>servicemix_install_dir</TT> is the directory in which ServiceMix was installed, e.g., <TT>/usr/local/servicemix-3.x</TT>.</P>

<P>Then type:</P>
<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">bin/servicemix

OR

nohup bin/servicemix &gt; /tmp/smlog  2&gt;&amp;1 &amp;</PRE>
</DIV></DIV>
<P><EM>Note:</EM> /tmp/smlog may be changed to another file name.</P>

<P><EM>Note:</EM> Working directories get created relative to the current directory. For the working directories to be created in the proper place, ServiceMix must be launched from its home/installation directory.</P>
<TABLE cellpadding="5" width="85%" cellspacing="8px" class="warningMacro" border="0" align="center"><COLGROUP><COL width="24"><COL></COLGROUP><TR><TD valign="top"><IMG src="http://goopen.org/confluence/images/icons/emoticons/forbidden.gif" width="16" height="16" align="absmiddle" alt="" border="0"></TD><TD><B class="strong">Warning</B><BR>
<P>Do NOT close the console or shell in which ServiceMix was started, as that will terminate ServiceMix (unless ServiceMix was started with nohup).</P></TD></TR></TABLE>

<H4><A name="3.Installation-Troubleshooting"></A>Troubleshooting</H4>

<P>If the <TT>servicemix</TT> start-up script is not executable, change its permisssions. The <TT>servicemix</TT> script is located in the <TT>bin</TT> directory. For example:</P>
<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">chmod 755 bin/servicemix</PRE>
</DIV></DIV>
<P>In case you get a</P>
<DIV class="preformatted"><DIV class="preformattedContent">
<PRE>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException
</PRE>
</DIV></DIV>
<P>you may have some illegal characters in the path, e.g. &#33;, % etc.</P>

<H2><A name="3.Installation-TestingtheInstallation"></A>Testing the Installation</H2>

<P>If ServiceMix is up and running without problems, the Window&apos;s console window or the Unix command shell will display something similar to the following log line:</P>
<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">INFO - JBIContainer.init(421) | ServiceMix JBI Container ([http:<SPAN class="code-comment">//servicemix.org/]) name: defaultJBI running version: 3.0-incubating</SPAN></PRE>
</DIV></DIV>
<P>ServiceMix&apos;s default port is 1099. From another window run netstat and search for port 1099.</P>

<P>From a Windows console, type:</P>
<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">netstat -an | find <SPAN class="code-quote">&quot;1099&quot;</SPAN></PRE>
</DIV></DIV>
<P><B>OR</B></P>

<P>From a Unix command shell, type:</P>
<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">netstat -an | grep 1099</PRE>
</DIV></DIV>

<H2><A name="3.Installation-StoppingServiceMix"></A>Stopping ServiceMix</H2>

<P>For both Windows and Unix installations, terminate ServiceMix by typing &quot;CTRL-C&quot; in the command shell or console in which it is running.</P>

<P>If ServiceMix was started in the background on Unix, the process can be killed, with the following:</P>
<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">ps -ef | grep servicemix
kill [PID]
 where [PID] is the process id of the servicemix process.</PRE>
</DIV></DIV>

<H2><A name="3.Installation-ConfiguringServiceMix"></A>Configuring ServiceMix</H2>

<P>After the installation, ServiceMix is running with a basic configuration, but no components. For details on configuring options, please see refer to the <SPAN class="nobr"><A href="http://goopen.org/confluence/pages/createpage.action?spaceKey=SM30UG&title=Configuration&linkCreation=true&fromPageId=13489" title="Create Page: Configuration" class="createlink">Configuration<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/plus.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN> section.</P>

<P><A href="#3.Installation-top" title="top on 3. Installation">top</A></P>
<STYLE type="text/css">/*<![CDATA[*/
table.ScrollbarTable  {border: none;padding: 3px;width: 100%;padding: 3px;margin: 0px;background-color: #f0f0f0}
table.ScrollbarTable td.ScrollbarPrevIcon {text-align: center;width: 16px;border: none;}
table.ScrollbarTable td.ScrollbarPrevName {text-align: left;border: none;}
table.ScrollbarTable td.ScrollbarParent {text-align: center;border: none;}
table.ScrollbarTable td.ScrollbarNextName {text-align: right;border: none;}
table.ScrollbarTable td.ScrollbarNextIcon {text-align: center;width: 16px;border: none;}

/*]]>*/</STYLE><DIV class="Scrollbar"><TABLE class="ScrollbarTable"><TR><TD class="ScrollbarPrevIcon"><A href="2-introduction.html"><IMG border="0" align="middle" src="http://goopen.org/confluence/images/icons/back_16.gif" width="16" height="16"></A></TD><TD width="33%" class="ScrollbarPrevName"><A href="2-introduction.html">2. Introduction</A>&nbsp;</TD><TD width="33%" class="ScrollbarParent"><SUP><A href="users-guide.html"><IMG border="0" align="middle" src="http://goopen.org/confluence/images/icons/up_16.gif" width="8" height="8"></A></SUP><A href="users-guide.html">User&apos;s Guide</A></TD><TD width="33%" class="ScrollbarNextName">&nbsp;<A href="4-examples.html">4. Examples</A></TD><TD class="ScrollbarNextIcon"><A href="4-examples.html"><IMG border="0" align="middle" src="http://goopen.org/confluence/images/icons/forwd_16.gif" width="16" height="16"></A></TD></TR></TABLE></DIV></DIV>
          </DIV>
        </TD>
      </TR>
      </TABLE>     
      </DIV>
    </DIV>
    <DIV id="site-footer">
          Added by     <A href="http://goopen.org/confluence/users/viewuserprofile.action?username=gnodet">Guillaume Nodet</A>,
    last edited by     <A href="http://goopen.org/confluence/users/viewuserprofile.action?username=georg_dembowski">Georg Dembowski</A> on Sep 21, 2006
                  &nbsp;(<A href="http://goopen.org/confluence/pages/diffpages.action?pageId=13489&originalId=13775">view change</A>)
                      <SPAN id="show" class="inline-control-link"><A href="" onclick="showComment(); return false;">show comment</A></SPAN>
        <SPAN id="hide" class="inline-control-link" style="display:none;"><A href="" onclick="hideComment(); return false;">hide comment</A></SPAN>
          <DIV id="versionComment" class="noteMacro" style="display:none; padding: 5px;">
      <B>Comment:</B>
      typo<BR>
      <SPAN class="smalltext"><A href="http://goopen.org/confluence/pages/viewpreviouspageversions.action?pageId=13489">View page history</A></SPAN>
  </DIV>

    <SCRIPT>
      var show = document.getElementById('show');
      var hide = document.getElementById('hide');
      var versionComment = document.getElementById('versionComment');

      function showComment(){
        show.style.display = 'none';
        hide.style.display = 'inline';
        versionComment.style.display = 'block';
      }

      function hideComment(){
        show.style.display = 'inline';
        hide.style.display = 'none';
        versionComment.style.display = 'none';
      }

    </SCRIPT>
    
      (<A href="http://goopen.org/confluence/pages/editpage.action?pageId=13489">edit page</A>)
    </DIV>

  </BODY>

</HTML>