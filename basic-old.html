
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
  <HEAD>
<!--
    Pier's plugin always overwrites the stylesheet so lets explicitly use another one
    <link type="text/css" rel="stylesheet" href="autoexport:///SM/resources/space.css">
-->
    <LINK type="text/css" rel="stylesheet" href="resources/site.css">
    <SCRIPT src="resources/space.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://www.google-analytics.com/urchin.js" type="text/javascript">
    </SCRIPT>
    <SCRIPT type="text/javascript">
_uacct = "UA-398545-1";
urchinTracker();
    </SCRIPT>
    <TITLE>
Basic old
    </TITLE>
  <META http-equiv="Content-Type" content="text/html;charset=UTF-8"></HEAD>
  <BODY onload="init()">

    <!-- Banner -->
    <DIV id="site-banner">

      <TABLE border="0" cellpadding="0" cellspacing="0" width="100%">
        <TR>
          <TD align="left" class="topbardiv" nowrap="">
            <IMG border="0" src="http://incubator.apache.org/servicemix/images/logo.jpg">
          </TD>
          <TD align="right" nowrap="">
            <IMG border="0" src="http://incubator.apache.org/images/apache-incubator-logo.png">
          </TD>
        </TR> 
      </TABLE>

    </DIV>

    <!-- Bread crumbs and Quick Links -->
    <DIV id="site-navbar">
      <TABLE border="0" cellpadding="0" cellspacing="0" width="100%">
        <TR>
          <TD align="left" valign="middle" nowrap="">
            <DIV id="site-breadcrumbs">
<A href="home.html" title="ServiceMix">ServiceMix</A>&nbsp;&gt;&nbsp;<A href="sandbox.html" title="Sandbox">Sandbox</A>&nbsp;&gt;&nbsp;<A href="example-use-cases.html" title="Example & Use Cases">Example &amp; Use Cases</A>&nbsp;&gt;&nbsp;<A href="examples.html" title="Examples">Examples</A>&nbsp;&gt;&nbsp;<A href="" title="Basic old">Basic old</A>
            </DIV>
          </TD>
          <TD align="right" valign="middle" nowrap="">
            <DIV id="site-quicklinks">
<P><A href="download.html" title="Download">Download</A> &#124; <A href="documentation.html" title="Documentation">Documentation</A> &#124; <A href="javadocs.html" title="JavaDocs">JavaDocs</A> &#124; <A href="source.html" title="Source">Source</A> &#124; <SPAN class="nobr"><A href="home.html" title="Visit page outside Confluence" rel="nofollow">Wiki<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="0" width="0" align="absmiddle" alt="" border="0"></SUP></A></SPAN> &#124; <A href="discussion-forums.html" title="Discussion Forums">Discussion Forums</A> &#124; <A href="support.html" title="Support">Support</A></P>
            </DIV>
          </TD>
        </TR> 
      </TABLE>
    </DIV>

<!-- Integrate google search later.
          <form name="search" action="http://www.google.com/search" method="get">
            <input type="hidden" name="ie" value="UTF- 8" />
            <input type="hidden" name="oe" value="UTF- 8" />
            <input type="hidden" name="domains" value="" />
            <input type="hidden" name="sitesearch" value="" />
            <input type="text" name="q" maxlength="255" value="" />        
            <input type="submit" name="btnG" value="Google Search" />
          </form>
-->

      <DIV id="site-content">
        <TABLE>
        <TR>
        <TD valign="top">
          <DIV id="site-navigation">
<H3><A name="Navigation-Overview"></A>Overview</H3>

<UL class="alternate" type="square">
	<LI><A href="home.html" title="Home">Home</A></LI>
	<LI><SPAN class="nobr"><A href="http://www.apache.org/" title="Visit page outside Confluence" rel="nofollow">ASF<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="0" width="0" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	<LI><A href="license.html" title="License">License</A></LI>
	<LI><A href="faq.html" title="FAQ">FAQ</A></LI>
	<LI><A href="download.html" title="Download">Download</A></LI>
	<LI><A href="sitemap.html" title="SiteMap">SiteMap</A></LI>
</UL>


<H3><A name="Navigation-Community"></A>Community</H3>

<UL class="alternate" type="square">
	<LI><A href="users-guide.html" title="User's Guide">User&apos;s Guide</A></LI>
	<LI><A href="documentation.html" title="Documentation">Documentation</A></LI>
	<LI><A href="support.html" title="Support">Support</A></LI>
	<LI><A href="discussion-forums.html" title="Discussion Forums">Discussion Forums</A></LI>
	<LI><A href="mailing-lists.html" title="Mailing Lists">Mailing Lists</A></LI>
	<LI><SPAN class="nobr"><A href="http://issues.apache.org/activemq/browse/SM" title="Visit page outside Confluence" rel="nofollow">Issues<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="0" width="0" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	<LI><A href="contributing.html" title="Contributing">Contributing</A></LI>
	<LI><SPAN class="nobr"><A href="http://goopen.org/confluence/pages/listpages-dirview.action?key=SM" title="Visit page outside Confluence" rel="nofollow">Wiki<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="0" width="0" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	<LI><A href="team.html" title="Team">Team</A></LI>
	<LI><A href="users.html" title="Users">Users</A></LI>
</UL>


<H3><A name="Navigation-Developers"></A>Developers</H3>

<UL class="alternate" type="square">
	<LI><A href="source.html" title="Source">Source</A></LI>
	<LI><A href="building.html" title="Building">Building</A></LI>
	<LI><A href="ideas.html" title="Ideas">Ideas</A></LI>
	<LI><A href="becoming-a-committer.html" title="Becoming a committer">Becoming a committer</A></LI>
	<LI><A href="release-guide.html" title="Release Guide">Release Guide</A></LI>
	<LI><A href="related-projects.html" title="Related Projects">Related Projects</A></LI>
	<LI><A href="tools.html" title="Tools">Tools</A></LI>
	<LI><A href="resources.html" title="Resources">Resources</A></LI>
</UL>


<H3><A name="Navigation-Components"></A>Components</H3>

<UL class="alternate" type="square">
	<LI><A href="servicemix-bean.html" title="servicemix-bean">servicemix&#45;bean</A></LI>
	<LI><A href="servicemix-bpe.html" title="servicemix-bpe">servicemix&#45;bpe</A></LI>
	<LI><A href="servicemix-drools.html" title="servicemix-drools">servicemix&#45;drools</A></LI>
	<LI><A href="servicemix-eip.html" title="servicemix-eip">servicemix&#45;eip</A></LI>
	<LI><A href="servicemix-file.html" title="servicemix-file">servicemix&#45;file</A></LI>
	<LI><A href="servicemix-ftp.html" title="servicemix-ftp">servicemix&#45;ftp</A></LI>
	<LI><A href="servicemix-http.html" title="servicemix-http">servicemix&#45;http</A></LI>
	<LI><A href="servicemix-jms.html" title="servicemix-jms">servicemix&#45;jms</A></LI>
	<LI><A href="servicemix-jsr181.html" title="servicemix-jsr181">servicemix&#45;jsr181</A></LI>
	<LI><A href="servicemix-lwcontainer.html" title="servicemix-lwcontainer">servicemix&#45;lwcontainer</A></LI>
	<LI><A href="servicemix-saxon.html" title="servicemix-saxon">servicemix&#45;saxon</A></LI>
	<LI><A href="servicemix-script.html" title="servicemix-script">servicemix&#45;script</A></LI>
	<LI><A href="servicemix-wsn2005.html" title="servicemix-wsn2005">servicemix&#45;wsn2005</A></LI>
	<LI><A href="servicemix-xmpp.html" title="servicemix-xmpp">servicemix&#45;xmpp</A></LI>
</UL>


          </DIV>
        </TD>
        <TD valign="top">
          <DIV id="site-page">

<!--          
            <div class="pagetitle">Basic old</div>
-->
            <DIV class="wiki-content"><H3><A name="Basicold-OverviewoftheServiceMixBasicExample"></A>Overview of the ServiceMix Basic Example</H3>

<P>This document describes how to run the <EM>Basic</EM> example and provides details about what it does. For information on the business use case, please refer to: <SPAN class="nobr"><A href="http://www.servicemix.org/Use%20Cases" title="Visit page outside Confluence" rel="nofollow">Use Case for Basic<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="0" width="0" align="absmiddle" alt="" border="0"></SUP></A></SPAN>.
<BR clear="all">
<BR clear="all">
The Basic example illustrates the following:</P>
<UL>
	<LI>use of declarative programming</LI>
	<LI>how to use an <SPAN class="nobr"><A href="http://www.activemq.org/Spring%20Support" title="Visit page outside Confluence" rel="nofollow">ActiveMQ<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="0" width="0" align="absmiddle" alt="" border="0"></SUP></A></SPAN> message broker</LI>
	<LI>how to use a <SPAN class="nobr"><A href="http://www.servicemix.org/Quartz" title="Visit page outside Confluence" rel="nofollow">Quartz<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="0" width="0" align="absmiddle" alt="" border="0"></SUP></A></SPAN> timer</LI>
	<LI>how to use the <SPAN class="nobr"><A href="http://jencks.org/" title="Visit page outside Confluence" rel="nofollow">Jencks<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="0" width="0" align="absmiddle" alt="" border="0"></SUP></A></SPAN> JCA container</LI>
	<LI>how to use the <SPAN class="nobr"><A href="http://geronimo.apache.org/" title="Visit page outside Confluence" rel="nofollow">Geronimo<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="0" width="0" align="absmiddle" alt="" border="0"></SUP></A></SPAN> Transaction Manager via the <SPAN class="nobr"><A href="http://jencks.org/Transaction%20Manager" title="Visit page outside Confluence" rel="nofollow">Jencks factory bean<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="0" width="0" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	<LI>how to use tracing</LI>
</UL>


<P>The source code for the Basic example is located in the ServiceMix installation directory under the <TT>examples\basic</TT> directory in the <TT>servicemix.xml</TT> file. It is recommended that you refer to the source code while reading this document.
<BR clear="all">
<BR clear="all">
There are several components in the <TT>servicemix.xml</TT>file. One component sets off a trigger to send messages to a source destination. Then those messages are consumed by another component and sent to a different output destination. A trace component displays the messages as they arrive.
<BR clear="all">
<BR clear="all"></P>

<H3><A name="Basicold-RunningtheBasicExample"></A>Running the <EM>Basic</EM> Example</H3>

<P>From a command shell, go to the Basic example directory:</P>
<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">cd [servicemix_install_dir]\examples\basic</PRE>
</DIV></DIV>
<P><BR clear="all"></P>
<TABLE cellpadding="5" width="85%" cellspacing="8px" class="tipMacro" border="0" align="center"><COLGROUP><COL width="24"><COL></COLGROUP><TR><TD valign="top"><IMG src="http://goopen.org/confluence/images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></TD><TD><B class="strong">Handy Hint</B><BR>
<P>Note: if you are running version 3.0-M2 and experience an error like<BR>
&nbsp;&nbsp;<EM>bla, bla, bla &apos;Bean class org.quartz.SimpleTrigger&apos; not found bla, bla, bla</EM><BR>
you probably need to run &quot;ant setup&quot; in <TT>\examples\basic</TT> directory to download additional packages (as Quartz, Common Pools and Common Collection)</P></TD></TR></TABLE>
<P>Then type:</P>
<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">[servicemix_install_dir]\bin\servicemix servicemix.xml</PRE>
</DIV></DIV>
<P>where <TT>servicemix_install_dir</TT> is the directory in which ServiceMix was installed.
<BR clear="all">
<BR clear="all"></P>
<TABLE cellpadding="5" width="85%" cellspacing="8px" class="tipMacro" border="0" align="center"><COLGROUP><COL width="24"><COL></COLGROUP><TR><TD valign="top"><IMG src="http://goopen.org/confluence/images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></TD><TD><B class="strong">Handy Hint</B><BR>
<P>Add <EM>$SERVICEMIX_HOME\bin</EM> directory to <EM>$PATH</EM> variable to simplify execution of the example.</P></TD></TR></TABLE>

<H3><A name="Basicold-StoppingtheBasicExample"></A>Stopping the <EM>Basic</EM> Example</H3>

<P>To terminate the Basic example type &quot;CTRL-C&quot; in the command shell in which it is running and answer &quot;y&quot; to the &quot;Terminate batch job (y/n)?&quot; question.
<BR clear="all"></P>

<H3><A name="Basicold-HowitWorks"></A>How it Works</H3>

<P>The diagram below illustrates the flow of messages through the <EM>Basic</EM> components.
<BR clear="all">
<BR clear="all"></P>
<DIV class="panel" style="border-style: solid; border-color: #ccc; "><DIV class="panelHeader" style="border-bottom-style: solid; border-bottom-color: #ccc; "><B>Basic Example Message Flow Diagram</B></DIV><DIV class="panelContent">
<P><DIV align="center"><IMG src="basic-old.data/basicflow1.jpg" border="0"></DIV><BR>
&nbsp;</P>
</DIV></DIV>
<P><BR clear="all">
<BR clear="all"></P>

<P>Messages flow through the components as follows:</P>
<OL>
	<LI>The <EM>timer</EM> component sends a message to <EM>inputSender</EM> through the Normalized Message Router (NMR).</LI>
	<LI><EM>inputSender</EM> converts the message (marshals it) into a JMS message, then uses the <EM>jmsTemplate</EM> bean to publish the message.</LI>
	<LI><EM>jmsTemplate</EM> uses the <EM>jmsFactory</EM>bean to get a connection to the port associated with the JMS topic called &quot;demo.org.servicemix.source.&quot; The message is published on the &quot;demo.org.servicemix.source&quot; topic.</LI>
	<LI><EM>jencks</EM> (the JCA resource adapter) listens on port 61616 for messages.</LI>
	<LI><EM>inputReceiver</EM> subscribes to the &quot;demo.org.servicemix.source&quot; topic via <EM>jencks</EM> and receives the JMS message.</LI>
	<LI><EM>inputReceiver</EM> normalizes the JMS message and sends it to <EM>outputSender</EM> via the NMR.</LI>
	<LI><EM>outputSender</EM> marshals the normalized message to a JMS message and uses <EM>jmsTemplate</EM> to publish the message on the &quot;demo.org.servicemix.result&quot; topic.</LI>
	<LI><EM>jmsTemplate</EM> publishes it on the &quot;demo.org.servicemix.result&quot; topic using <EM>jmsFactory</EM> to get a connection to the result topic.</LI>
	<LI><EM>jencks</EM> listens on port 61616 for messages.</LI>
	<LI><EM>jmsTrace</EM> subscribes to the &quot;demo.org.servicemix.result&quot; topic and receives the JMS message via <EM>jencks</EM>.</LI>
	<LI><EM>jmsTrace</EM> converts the JMS message into a normalized message and sends it to <EM>trace</EM> via the NMR.</LI>
	<LI><EM>trace</EM> transforms the normalized message into a string and logs it to the console.
<BR clear="all"></LI>
</OL>


<P>Every 5 seconds logging information is written to the console, followed by information from the trace component. Note, that the triggers&apos; property values of &quot;name&quot;, &quot;My Example Job&quot;, &quot;group&quot;, and &quot;ServiceMix&quot; are displayed along with a timestamp. Typical output looks like the following:
<BR clear="all"></P>
<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">[INFO] TraceComponent - -Exchange: org.servicemix.jbi.messaging.InOnlyImpl@4fdf11 received IN message:
org.servicemix.jbi.messaging.NormalizedMessageImpl@1be0369{properties: {org.servicemix.jms.message=ACTIVEMQ_TEXT_MESSAGE:
id = 0 ActiveMQMessage{ , jmsMessageID = <SPAN class="code-keyword">null</SPAN>, bodyAsBytes = org.activemq.io.util.ByteArray@1d1fc02,
readOnlyMessage = <SPAN class="code-keyword">true</SPAN>, jmsClientID = &apos;ID:Lisas-2828-1126207917359-23:0&apos; ,
 jmsCorrelationID = &apos;<SPAN class="code-keyword">null</SPAN>&apos; , jmsDestination = demo.org.servicemix.result, jmsReplyTo = <SPAN class="code-keyword">null</SPAN>, jmsDeliveryMode = 2,
 jmsRedelivered = <SPAN class="code-keyword">false</SPAN>, jmsType = &apos;<SPAN class="code-keyword">null</SPAN>&apos; , jmsExpiration = 0, jmsPriority = 4, jmsTime
stamp = 1126207938593, properties = {}, readOnlyProperties = <SPAN class="code-keyword">true</SPAN>, entryBrokerName = &apos;ID:Lisas-2828-1126207917359-0:0&apos; ,
entryClusterName = &apos;<SPAN class="code-keyword">default</SPAN>&apos; , consumerNos = [0], transactionId = &apos;<SPAN class="code-keyword">null</SPAN>&apos; , xaTransacted = <SPAN class="code-keyword">false</SPAN>,
consumerIdentifer = &apos;ID:Lisas-2828-1126207917359-14:0&apos; , messageConsumed = <SPAN class="code-keyword">false</SPAN>, transientConsumed = <SPAN class="code-keyword">true</SPAN>,
sequenceNumber = 7, deliveryCount = 1, dispatchedFromDLQ = <SPAN class="code-keyword">false</SPAN>, messageAcknowledge = org.activemq.ActiveMQSession@1de7497,
jmsMessageIdentity = <SPAN class="code-keyword">null</SPAN>, producerKey = ID:Lisas-2828-1126207917359-29: }, text = &lt;?xml version=<SPAN class="code-quote">&quot;1.0&quot;</SPAN> encoding=<SPAN class="code-quote">&quot;UTF-8&quot;</SPAN>?&gt;
&lt;timer&gt;&lt;name&gt;My Example Job&lt;/name&gt;&lt;group&gt;ServiceMix&lt;/group&gt;&lt;fullname&gt;ServiceMix.My Example Job&lt;/fullname&gt;&lt;description/&gt;&lt;fireTime&gt;
Thu Sep 08 12:32:18 PDT 2005&lt;/fireTime&gt;&lt;/timer&gt;}}</PRE>
</DIV></DIV>

<H3><A name="Basicold-Details"></A>Details</H3>

<P>The following table provides more details about the function of each component and bean in the servicemix.xml file.
<BR clear="all">
<BR clear="all"></P>
<TABLE class="confluenceTable"><TBODY>
<TR>
<TH class="confluenceTh"> Component or Bean ID </TH>
<TH class="confluenceTh"> Description </TH>
</TR>
<TR>
<TD class="confluenceTd"> <EM>jbi</EM> </TD>
<TD class="confluenceTd"> <EM>jbi</EM> is the &quot;id&quot; of the JBI container and provides the basic infrastructure services for the following components: <EM>timer</EM>, <EM>inputSender</EM>, <EM>inputReceiver</EM>, <EM>outputSender</EM>, <EM>jmsTrace</EM>, and <EM>trace</EM>.  During initialization, several singletons are instantiated: <EM>transactionManager</EM>, <EM>broker</EM>, <EM>jencks</EM>, <EM>jmsFactory</EM>, and <EM>jbi</EM>. After initialization, the components in the <EM>jbi</EM> container are activated, starting with the <EM>timer</EM> component. </TD>
</TR>
<TR>
<TD class="confluenceTd"> <EM>timer</EM> </TD>
<TD class="confluenceTd"> The <EM>timer</EM> component shows the use of the QuartzComponent class. Every 5 seconds, until the program is terminated, the timer component kicks off an instance of a SimpleTrigger, which is associated with an instance of JobDetail. The job has a property called &quot;name&quot; with a value of &quot;My Example Job&quot; and another property called &quot;group&quot; with a value of &quot;ServiceMix.&quot; The resulting message is converted to a normalized message and routed through the NMR. </TD>
</TR>
<TR>
<TD class="confluenceTd"> <EM>inputSender</EM> </TD>
<TD class="confluenceTd"> This is a component inside the JBI container. It receives the normalized message (the message from the trigger), converts it to a JMS message, and publishes it to the topic called demo.org.servicemix.source. It uses the <EM>jmsTemplate</EM>(1) bean to handle the publish. </TD>
</TR>
<TR>
<TD class="confluenceTd"> <EM>inputReceiver</EM> </TD>
<TD class="confluenceTd"> This component uses <EM>jencks</EM> , the JCA container, to listen on port 61616 for a JMS message on the topic called &quot;demo.org.servicemix.source.&quot; <EM>inputReceiver</EM> subscribes to the demo.org.servicemix.source topic. It takes the message, normalizes it, and routes it to <EM>outputSender</EM> via the NMR. This component combined with <EM>outputSender</EM> and supporting beans creates a JMS bridge between two topics. </TD>
</TR>
<TR>
<TD class="confluenceTd"> <EM>outputSender</EM> </TD>
<TD class="confluenceTd"> This component receives a normalized message from the NMR, marshals it into a JMS message using <EM>jmsTemplate</EM>, then publishes it on the ActiveMQ (JMS) topic called &quot;demo.org.servicemix.result.&quot; </TD>
</TR>
<TR>
<TD class="confluenceTd"> <EM>jmsTrace</EM> </TD>
<TD class="confluenceTd"> This component uses <EM>jencks</EM> to subscribe to the &quot;demo.org.servicemix.result&quot; topic and get messages. It then marshals the message into a normalized message and routes it via the NMR to the <EM>trace</EM> component. </TD>
</TR>
<TR>
<TD class="confluenceTd"> <EM>trace</EM> </TD>
<TD class="confluenceTd"> Receives normalized messages from <EM>jmsTrace</EM> via the NMR. It transforms the normalized message into a string and logs it to the console. </TD>
</TR>
<TR>
<TD class="confluenceTd"> <EM>jencks</EM> </TD>
<TD class="confluenceTd"> The <EM>jencks</EM> bean defines a JCA container. The JCA container allows you to configure thread pool size, configure a transaction manager, and configure a resource adapter. In this example, the resource adapter is an ActiveMQ adapter, however, another JMS listener could be configured instead. This adapter listens on port 61616 for JMS messages. </TD>
</TR>
<TR>
<TD class="confluenceTd"> <EM>broker</EM> </TD>
<TD class="confluenceTd"> The <EM>broker</EM> bean uses the <TT>activemq.xml</TT> file to configure the message broker, which handles the JMS messages for the components that require JMS messaging services. </TD>
</TR>
<TR>
<TD class="confluenceTd"> <EM>transactionManager</EM> </TD>
<TD class="confluenceTd"> This bean is configured to be the default transaction manager for the <EM>jbi</EM> container. <EM>jencks</EM>is configured to use the default transaction manager. This transaction manager provides transactional services between the resource adapter (in this case the ActiveMQ resource adapter provided by the <EM>jencks</EM> JCA container) and components the <EM>jbi</EM> container. </TD>
</TR>
<TR>
<TD class="confluenceTd"> <EM>jmsFactory</EM> </TD>
<TD class="confluenceTd"> This bean listens on port 61616 and provides a pooled ActiveMQ connection. </TD>
</TR>
</TBODY></TABLE>
<P>1. <EM>jmsTemplate:</EM> JmsTemplate is a Spring component which hides the low level details when sending JMS messages. For additional information see: <SPAN class="nobr"><A href="http://docs.codehaus.org/display/ACTIVEMQ/Spring%20Support" title="Visit page outside Confluence" rel="nofollow">JmsTemplate<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="0" width="0" align="absmiddle" alt="" border="0"></SUP></A></SPAN>. jmsTemplate is not a component in the <EM>jbi</EM> container. It is used by <EM>inputSender</EM> and <EM>outputSender</EM>.</P>

<H3><A name="Basicold-Issues"></A>Issues</H3>

<P>The ServiceMix 2.0.2 distribution has a known logging bug, so output is not logged to the console. This can be corrected in the <B>source</B>distribution of ServiceMix 2.0.2, by replacing the jencks-all-1.1.1.jar with the jencks-all-1.1.2.jar file. Upgrading to 2.0.3 will also resolve the problem. 2.0.3 release is a developer&apos;s release at this time. Please see <A href="download.html" title="Download">Download</A> for the latest developer&apos;s release.</P>

<P>This procedure explains the work around for 2.0.2.</P>
<OL>
	<LI>Download the jencks-all-1.2.jar <SPAN class="nobr"><A href="http://dist.codehaus.org/jencks/jars/jencks-all-1.1.2.jar" title="Visit page outside Confluence" rel="nofollow">here<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="0" width="0" align="absmiddle" alt="" border="0"></SUP></A></SPAN>.</LI>
	<LI>Copy the jar file to [servicemix_src_install_dir]\assembly\target\servicemix-2.0.2\bin\servicemix-2.0.2\lib, where [servicemix_src_install_dir] is the directory in which the ServiceMix distribution is located.</LI>
	<LI>Delete jencks-all-1.1.1.jar from that directory.</LI>
	<LI>Place a copy of the jar file in the ServiceMix web directory at [servicemix_src_install_dir]\servicemix-2.0.2\tooling\servicemix-web\target\servicemix-web\WEB-INF as well.</LI>
	<LI>To run the example in the source distribution:
<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">cd [servicemix_src_install_dir]\assembly\target\servicemix-2.0.2\bin\servicemix-2.0.2\bin

..\..\bin\servicemix servicemix.xml</PRE>
</DIV></DIV></LI>
	<LI>test</LI>
</OL>


<P>Note: It is not necessary to build the source distribution if you have previously done so. If ServiceMix has not been built, execute the above steps before building. The procedure on how to build the source distribution can be found <SPAN class="nobr"><A href="http://www.servicemix.org/Getting%20Started#GettingStarted-WindowsSourceInstallation" title="Visit page outside Confluence" rel="nofollow">here<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="0" width="0" align="absmiddle" alt="" border="0"></SUP></A></SPAN>.</P>

<H3><A name="Basicold-RelatedDocumentation"></A>Related Documentation</H3>

<P>For more information on the following topics please see:</P>
<UL>
	<LI><SPAN class="nobr"><A href="http://www.activemq.org/Spring%20Support" title="Visit page outside Confluence" rel="nofollow">ActiveMQ related components, <EM>jmsFactory</EM>, <EM>jmsTemplate</EM>, <EM>broker</EM><SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="0" width="0" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
</UL>


<UL>
	<LI><SPAN class="nobr"><A href="http://jencks.org/" title="Visit page outside Confluence" rel="nofollow">JCA Container, <EM>jencks</EM><SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="0" width="0" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
</UL>


<UL>
	<LI><SPAN class="nobr"><A href="http://www.servicemix.org/Quartz" title="Visit page outside Confluence" rel="nofollow">Quartz timer<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="0" width="0" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
</UL>


<P>For a brief explanation of the XML tags in the <TT>servicemix.xml</TT> file, please see:</P>
<UL>
	<LI><SPAN class="nobr"><A href="http://servicemix.codehaus.org/maven/servicemix.xsd.html" title="Visit page outside Confluence" rel="nofollow">XSD<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="0" width="0" align="absmiddle" alt="" border="0"></SUP></A></SPAN>
<BR clear="all">
<BR clear="all"></LI>
</UL>
</DIV>
          
                  </DIV>
        </TD>
      </TR>
      </TABLE>     
      </DIV>
    </DIV>
    <DIV id="site-footer">
          Added by     <A href="http://goopen.org/confluence/users/viewuserprofile.action?username=rajdavies">Rob Davies</A>,
    last edited by     <A href="http://goopen.org/confluence/users/viewuserprofile.action?username=gnodet">Guillaume Nodet</A> on Nov 08, 2006
                  &nbsp;(<A href="http://goopen.org/confluence/pages/diffpages.action?pageId=2093&originalId=14790">view change</A>)
              
      (<A href="http://goopen.org/confluence/pages/editpage.action?pageId=2093">edit page</A>)
    </DIV>

  </BODY>

</HTML>