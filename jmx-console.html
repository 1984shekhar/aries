
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
  <HEAD>
<!--
    Pier's plugin always overwrites the stylesheet so lets explicitly use another one
    <link type="text/css" rel="stylesheet" href="autoexport:///SM/resources/space.css">
-->
    <LINK type="text/css" rel="stylesheet" href="http://goopen.org/confluence/pages/viewpage.action?spaceKey=SM&title=site.css">
    <SCRIPT src="resources/space.js" type="text/javascript"></SCRIPT>
    <TITLE>
JMX Console
    </TITLE>
  <META http-equiv="Content-Type" content="text/html;charset=UTF-8"></HEAD>
  <BODY onload="init()">

    <!-- Banner -->
    <DIV id="site-banner">

      <TABLE border="0" cellpadding="0" cellspacing="0" width="100%">
        <TR>
          <TD align="left" class="topbardiv" nowrap="">
            <IMG border="0" src="http://incubator.apache.org/servicemix/images/logo.jpg">
          </TD>
          <TD align="right" nowrap="">
            <IMG border="0" src="http://incubator.apache.org/images/apache-incubator-logo.png">
          </TD>
        </TR> 
      </TABLE>

    </DIV>

    <!-- Bread crumbs and Quick Links -->
    <DIV id="site-navbar">
      <TABLE border="0" cellpadding="0" cellspacing="0" width="100%">
        <TR>
          <TD align="left" valign="middle" nowrap="">
            <DIV id="site-breadcrumbs">
<A href="home.html" title="ServiceMix">ServiceMix</A>&nbsp;&gt;&nbsp;<A href="home.html" title="Home">Home</A>&nbsp;&gt;&nbsp;<A href="documentation.html" title="Documentation">Documentation</A>&nbsp;&gt;&nbsp;<A href="guides.html" title="Guides">Guides</A>&nbsp;&gt;&nbsp;<A href="management.html" title="Management">Management</A>&nbsp;&gt;&nbsp;<A href="" title="JMX Console">JMX Console</A>
            </DIV>
          </TD>
          <TD align="right" valign="middle" nowrap="">
            <DIV id="site-quicklinks">
<P><A href="download.html" title="Download">Download</A> &#124; <SPAN class="nobr"><A href="http://servicemix.goopen.org/maven/servicemix-core/apidocs/" title="Visit page outside Confluence" rel="nofollow">JavaDocs<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN> <SPAN class="nobr"><A href="http://servicemix.goopen.org/maven/servicemix-components/apidocs/" title="Visit page outside Confluence" rel="nofollow">Components<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN> &#124; <A href="source.html" title="Source">Source</A> &#124; <SPAN class="nobr"><A href="home.html" title="Visit page outside Confluence" rel="nofollow">Wiki<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN> &#124;<SPAN class="nobr"><A href="irc://irc.codehaus.org/servicemix" title="Visit page outside Confluence" rel="nofollow">IRC<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN> &#124; <SPAN class="nobr"><A href="http://servlet.uwyn.com/drone/log/hausbot/servicemix" title="Visit page outside Confluence" rel="nofollow">IRC Log<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN> &#124; <A href="mailing-lists.html" title="Mailing Lists">Mailing Lists</A> &#124; <A href="discussion-forums.html" title="Discussion Forums">Discussion Forums</A> &#124; <A href="support.html" title="Support">Support</A></P>
            </DIV>
          </TD>
        </TR> 
      </TABLE>
    </DIV>

<!-- Integrate google search later.
          <form name="search" action="http://www.google.com/search" method="get">
            <input type="hidden" name="ie" value="UTF- 8" />
            <input type="hidden" name="oe" value="UTF- 8" />
            <input type="hidden" name="domains" value="" />
            <input type="hidden" name="sitesearch" value="" />
            <input type="text" name="q" maxlength="255" value="" />        
            <input type="submit" name="btnG" value="Google Search" />
          </form>
-->

      <DIV id="site-content">
        <TABLE>
        <TR>
        <TD valign="top">
          <DIV id="site-navigation">
<H3><A name="Navigation-Overview"></A>Overview</H3>

<UL class="alternate" type="square">
	<LI><A href="home.html" title="Home">Home</A></LI>
	<LI><A href="introduction-to-esb.html" title="Introduction to ESB">Introduction to ESB</A></LI>
	<LI><A href="background-to-servicemix.html" title="Background to ServiceMix">Background to ServiceMix</A></LI>
	<LI><A href="news.html" title="News">News</A></LI>
	<LI><A href="faq.html" title="FAQ">FAQ</A></LI>
	<LI><A href="site.html" title="Site">Site</A></LI>
	<LI><A href="download.html" title="Download">Download</A></LI>
</UL>


<H3><A name="Navigation-Community"></A>Community</H3>

<UL class="alternate" type="square">
	<LI><SPAN class="nobr"><A href="navigation.html" title="Visit page outside Confluence" rel="nofollow">Wiki<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	<LI><A href="discussion-forums.html" title="Discussion Forums">Discussion Forums</A></LI>
	<LI><A href="mailing-lists.html" title="Mailing Lists">Mailing Lists</A></LI>
	<LI><A href="contributing.html" title="Contributing">Contributing</A></LI>
	<LI><A href="team.html" title="Team">Team</A></LI>
	<LI><A href="users.html" title="Users">Users</A></LI>
</UL>


<H3><A name="Navigation-Documentation"></A>Documentation</H3>

<UL class="alternate" type="square">
	<LI><A href="getting-started.html" title="Getting Started">Getting Started</A></LI>
	<LI><A href="running.html" title="Running">Running</A></LI>
	<LI><A href="examples.html" title="Examples">Examples</A></LI>
	<LI><A href="servicemix-eip.html" title="servicemix-eip">Enterprise Integration Patterns</A></LI>
	<LI><A href="use-cases-whole.html" title="Use Cases (whole)">Use Cases &#40;whole&#41;</A></LI>
	<LI><A href="configuration.html" title="Configuration">Configuration</A></LI>
	<LI><A href="xml-reference.html" title="Xml Reference">Xml Reference</A></LI>
	<LI><A href="management.html" title="Management">Management</A></LI>
	<LI><A href="architecture.html" title="Architecture">Architecture</A></LI>
	<LI><A href="clustering.html" title="Clustering">Clustering</A></LI>
	<LI><A href="nmr-flows.html" title="NMR Flows">NMR Flows</A></LI>
	<LI><A href="articles.html" title="Articles">Articles</A></LI>
</UL>


<H3><A name="Navigation-Reference"></A>Reference</H3>

<UL class="alternate" type="square">
	<LI><SPAN class="nobr"><A href="http://java.sun.com/integration/1.0/docs/sdk/api/index.html" title="Visit page outside Confluence" rel="nofollow">JBI API<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	<LI><SPAN class="nobr"><A href="http://servicemix.codehaus.org/maven/servicemix-core/apidocs/" title="Visit page outside Confluence" rel="nofollow">JavaDocs Core<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	<LI><SPAN class="nobr"><A href="http://servicemix.codehaus.org/maven/servicemix-components/apidocs/" title="Visit page outside Confluence" rel="nofollow">JavaDocs Components<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	<LI><SPAN class="nobr"><A href="http://servicemix.codehaus.org/maven/servicemix-console/apidocs/" title="Visit page outside Confluence" rel="nofollow">JavaDocs Console<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	<LI><A href="glossary.html" title="Glossary">Glossary</A></LI>
</UL>


<H3><A name="Navigation-Features"></A>Features</H3>

<UL class="alternate" type="square">
	<LI><A href="components.html" title="Components">Components</A></LI>
	<LI><A href="routing.html" title="Routing">Routing</A></LI>
	<LI><A href="transformation.html" title="Transformation">Transformation</A></LI>
	<LI><A href="servicemix-eip.html" title="servicemix-eip">Enterprise Integration Patterns</A></LI>
	<LI><A href="spring-client-toolkit.html" title="Spring Client Toolkit">Spring Client Toolkit</A></LI>
	<LI><A href="client-api.html" title="Client API">Client API</A></LI>
	<LI><A href="beanflow.html" title="BeanFlow">BeanFlow</A></LI>
	<LI><A href="pojo-support.html" title="POJO support">POJO support</A></LI>
	<LI><A href="expressions.html" title="Expressions">Expressions</A></LI>
	<LI><A href="component-helper-classes.html" title="Component helper classes">Component helper classes</A></LI>
	<LI><A href="ant-tasks.html" title="Ant Tasks">Ant Tasks</A></LI>
	<LI><A href="" title="JMX Console">JMX Console</A></LI>
</UL>


<H3><A name="Navigation-Integration"></A>Integration</H3>

<UL class="alternate" type="square">
	<LI><A href="spring-support.html" title="Spring support">Spring support</A></LI>
	<LI><A href="geronimo-integration.html" title="Geronimo Integration">Geronimo Integration</A></LI>
	<LI><A href="jboss-deployer.html" title="JBoss Deployer">JBoss Integration</A></LI>
	<LI><A href="tomcat-integration.html" title="Tomcat Integration">Tomcat Integration</A></LI>
	<LI><A href="jonas-integration.html" title="JOnAS Integration">JOnAS Integration</A></LI>
	<LI><A href="jndi-configuration.html" title="JNDI configuration">JNDI configuration</A></LI>
</UL>


<H3><A name="Navigation-ServiceMixComponents"></A>ServiceMix Components</H3>

<UL class="alternate" type="square">
	<LI><A href="bpel.html" title="BPEL">BPEL</A></LI>
	<LI><A href="cache.html" title="Cache">Cache</A></LI>
	<LI><A href="drools.html" title="Drools">Drools</A></LI>
	<LI><A href="email.html" title="Email">Email</A></LI>
	<LI><A href="file.html" title="File">File</A></LI>
	<LI><A href="ftp.html" title="FTP">FTP</A></LI>
	<LI><A href="groovy.html" title="Groovy">Groovy</A></LI>
	<LI><A href="http.html" title="HTTP">HTTP</A></LI>
	<LI><A href="jabber.html" title="Jabber">Jabber</A></LI>
	<LI><A href="jax-ws.html" title="JAX WS">JAX WS</A></LI>
	<LI><A href="jca.html" title="JCA">JCA</A></LI>
	<LI><A href="jms.html" title="JMS">JMS</A></LI>
	<LI><A href="quartz.html" title="Quartz">Quartz</A></LI>
	<LI><A href="reflection.html" title="Reflection">Reflection</A></LI>
	<LI><A href="rss.html" title="RSS">RSS</A></LI>
	<LI><A href="saaj.html" title="SAAJ">SAAJ</A></LI>
	<LI><A href="scripting.html" title="Scripting">Scripting</A></LI>
	<LI><A href="servicemix.html" title="ServiceMix">ServiceMix</A></LI>
	<LI><A href="validation.html" title="Validation">Validation</A></LI>
	<LI><A href="xfire.html" title="XFire">XFire</A></LI>
	<LI><A href="xpath-router.html" title="XPath Router">XPath Router</A></LI>
	<LI><A href="xslt.html" title="XSLT">XSLT</A></LI>
	<LI><A href="xsql.html" title="XSQL">XSQL</A></LI>
	<LI><A href="vfs.html" title="VFS">VFS</A></LI>
	<LI><A href="wsif.html" title="WSIF">WSIF</A></LI>
</UL>


<H3><A name="Navigation-Tooling"></A>Tooling</H3>

<UL class="alternate" type="square">
	<LI><A href="visualisation.html" title="Visualisation">Visualisation</A></LI>
	<LI><A href="eclipse-plugin.html" title="Eclipse plugin">Eclipse plugin</A></LI>
	<LI><A href="jboss-deployer.html" title="JBoss Deployer">JBoss Deployer</A></LI>
	<LI><A href="war-deployment.html" title="WAR Deployment">WAR Deployment</A></LI>
	<LI><A href="maven-jbi-plugin.html" title="Maven JBI plugin">Maven JBI plugin</A></LI>
	<LI><A href="maven-sar-plugin.html" title="Maven SAR plugin">Maven SAR plugin</A></LI>
</UL>


<H3><A name="Navigation-OtherJBIsoftware"></A>Other JBI software</H3>

<UL class="alternate" type="square">
	<LI><SPAN class="nobr"><A href="http://incubator.apache.org/projects/ode.html" title="Orchestration Engine" rel="nofollow">Apache ODE<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
</UL>


<H3><A name="Navigation-RelatedProjects"></A>Related Projects</H3>

<UL class="alternate" type="square">
	<LI><SPAN class="nobr"><A href="http://activemq.codehaus.org/" title="High Performance Message Bus" rel="nofollow">Apache ActiveMQ<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	<LI><SPAN class="nobr"><A href="http://lingo.codehaus.org/" title="POJO Remoting using JMS" rel="nofollow">Lingo<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	<LI><SPAN class="nobr"><A href="http://jencks.org/" title="Message Driven POJOs and pooling for JMS and JDBC" rel="nofollow">Jencks<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	<LI><SPAN class="nobr"><A href="http://stomp.codehaus.org/" title="Simple cross language protocol for messaging" rel="nofollow">Stomp<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	<LI><SPAN class="nobr"><A href="http://www.springframework.org/" title="Visit page outside Confluence" rel="nofollow">Spring<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	<LI><SPAN class="nobr"><A href="http://geronimo.apache.org/" title="Visit page outside Confluence" rel="nofollow">Geronimo<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	<LI><SPAN class="nobr"><A href="http://forge.objectweb.org/projects/celtix/" title="Visit page outside Confluence" rel="nofollow">Celtix<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	<LI><SPAN class="nobr"><A href="http://xfire.codehaus.org/" title="Visit page outside Confluence" rel="nofollow">XFire<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
</UL>


<H3><A name="Navigation-Support"></A>Support</H3>

<UL class="alternate" type="square">
	<LI><SPAN class="nobr"><A href="http://issues.apache.org/activemq/browse/SM" title="Visit page outside Confluence" rel="nofollow">Issues<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	<LI><SPAN class="nobr"><A href="http://issues.apache.org/activemq/browse/SM?report=com.atlassian.jira.plugin.system.project:roadmap-panel" title="Visit page outside Confluence" rel="nofollow">Roadmap<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	<LI><SPAN class="nobr"><A href="http://issues.apache.org/activemq/browse/SM?report=com.atlassian.jira.plugin.system.project:changelog-panel" title="Visit page outside Confluence" rel="nofollow">Change log<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
</UL>


<H3><A name="Navigation-Developers"></A>Developers</H3>

<UL class="alternate" type="square">
	<LI><A href="source.html" title="Source">Source</A></LI>
	<LI><A href="roadmap.html" title="Roadmap">Roadmap</A></LI>
	<LI><A href="ideas.html" title="Ideas">Ideas</A></LI>
	<LI><A href="becoming-a-committer.html" title="Becoming a committer">Becoming a committer</A></LI>
	<LI><A href="release-guide.html" title="Release Guide">Release Guide</A></LI>
	<LI><SPAN class="nobr"><A href="http://ci.codehaus.org/beetlejuice/viewProjectSummary.action?projectName=ServiceMix" title="Visit page outside Confluence" rel="nofollow">BeetleJuice<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	<LI><SPAN class="nobr"><A href="http://servicemix.codehaus.org/maven/clover/" title="Visit page outside Confluence" rel="nofollow">Clover Report<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	<LI><SPAN class="nobr"><A href="http://servicemix.codehaus.org/maven/xref/index.html" title="Visit page outside Confluence" rel="nofollow">Source XRef<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	<LI><SPAN class="nobr"><A href="http://servicemix.codehaus.org/maven/xref-test/index.html" title="Visit page outside Confluence" rel="nofollow">Test Source XRef<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	<LI><SPAN class="nobr"><A href="http://servicemix.codehaus.org/maven/servicemix.xsd.html" title="Visit page outside Confluence" rel="nofollow">XSD<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
</UL>


<H3><A name="Navigation-Toolsweuse"></A>Tools we use</H3>

<P><SPAN class="nobr"><A href="http://www.yourkit.com/" title="Visit page outside Confluence" rel="nofollow"><IMG src="navigation.data/yourkit.jpg" align="absmiddle" border="0"><SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></P>
          </DIV>
        </TD>
        <TD valign="top">
          <DIV id="site-page">

<!--          
            <div class="pagetitle">JMX Console</div>
-->
            <DIV class="wiki-content">
<H1><A name="JMXConsole-UsingaJMXConsolewithServiceMix"></A>Using a JMX Console with ServiceMix</H1>

<P>This document explains how to connect a JMX Console to ServiceMix. The following three open source JMX Consoles will be discussed: </P>

<UL>
	<LI><A href="#JMXConsole-UsingJConsole" title="Using JConsole on JMX Console">JConsole</A></LI>
	<LI><A href="#JMXConsole-UsingMC4J" title="Using MC4J on JMX Console">MC4J</A></LI>
	<LI><A href="#JMXConsole-ServiceMixJMXConsole" title="ServiceMix JMX Console on JMX Console">ServiceMix JMX Console</A></LI>
</UL>


<TABLE cellpadding="5" width="85%" cellspacing="8px" class="warningMacro" border="0" align="center"><COLGROUP><COL width="24"><COL></COLGROUP><TR><TD valign="top"><IMG src="http://goopen.org/confluence/images/icons/emoticons/forbidden.gif" width="16" height="16" align="absmiddle" alt="" border="0"></TD><TD><B class="strong">JMX Connector URI has changed for version 3.x!</B><BR>
<P>ServiceMix will now use the jndiPath = jmxrmi<BR>
e.g. service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi</P></TD></TR></TABLE>

<P>The ServiceMix JBIContainer exposes internal services and Components through JMX. The JBIContainer can be passed as a JMXBeanServer or, it can be configured to create one if one doesn&apos;t exist (see <A href="configuration.html" title="Configuration">Configuration</A>). If the JBIContainer creates its own MBeanServer instance, it also creates an RMI JMXConnector - to allow remote connections. The <A href="ant-tasks.html" title="Ant Tasks">Ant Tasks</A> use the following:</P>

<DIV class="code"><DIV class="codeHeader"><B>Creating remote JMX Connector to the JBIContainer</B></DIV><DIV class="codeContent">
<PRE class="code-java"><SPAN class="code-object">String</SPAN> jndiPath = <SPAN class="code-quote">&quot;jmxrmi&quot;</SPAN>;
JMXServiceURL url = <SPAN class="code-keyword">new</SPAN> JMXServiceURL (<SPAN class="code-quote">&quot;service:jmx:rmi:<SPAN class="code-comment">///jndi/rmi://&lt;namingHost&gt;:&lt;namingPort&gt;/&quot;</SPAN> + jndiPath) ;
</SPAN>JMXConnector connector = JMXConnectorFactory.connect(url);</PRE>
</DIV></DIV>
<P><BR clear="all">
The following configuration variables are required for the next sections. </P>

<P><B>NOTE:</B> The values shown are the default settings for ServiceMix version 3.x <A name="JMXConsole-settings"></A></P>
<TABLE cellpadding="5" width="85%" cellspacing="8px" class="tipMacro" border="0" align="center"><COLGROUP><COL width="24"><COL></COLGROUP><TR><TD valign="top"><IMG src="http://goopen.org/confluence/images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></TD><TD><B class="strong">Default Settings</B><BR>
<P>The <EM>default</EM> namingPort is <B>1099</B><BR>
The <EM>default</EM> container name  is <B>jmxrmi</B><BR>
The JMX Service URL is: service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi</P></TD></TR></TABLE>

<P><B>NOTE:</B> The values shown are the default settings for ServiceMix version 2.x <A name="JMXConsole-settings"></A></P>
<TABLE cellpadding="5" width="85%" cellspacing="8px" class="tipMacro" border="0" align="center"><COLGROUP><COL width="24"><COL></COLGROUP><TR><TD valign="top"><IMG src="http://goopen.org/confluence/images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></TD><TD><B class="strong">Default Settings</B><BR>
<P>The <EM>default</EM> namingPort is <B>1099</B><BR>
The <EM>default</EM> container name  is <B>defaultJBI</B><BR>
The JMX Service URL is: service:jmx:rmi:///jndi/rmi://localhost:1099/defaultJBIJMX</P></TD></TR></TABLE>


<H2><A name="JMXConsole-UsingJConsole"></A>Using JConsole</H2>
<P>The Java-2 Platform, Standard Edition (J2SE) 5.0 release includes a JMX monitoring tool, JConsole. JConsole monitors applications running on the Java platform and provides information on their performance and resource consumption. Please see <SPAN class="nobr"><A href="http://java.sun.com/developer/technicalArticles/J2SE/jconsole.html" title="Visit page outside Confluence" rel="nofollow">Sun&apos;s<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN> documentation for more information on using this tool. Please see the following sections for instructions on configuring and using JConsole with ServiceMix.</P>

<P><B>NOTE:</B> This tool is available with the Java 5 release only.</P>

<H4><A name="JMXConsole-HowtoConnectJConsoletoMonitorServiceMix"></A>How to Connect JConsole to Monitor ServiceMix</H4>

<P>This section explains how to configure JConsole to monitor ServiceMix. The ServiceMix port number, the ServiceMix container id, and the JMX Service URL will be required. This information was specified in the previous section, in the <A href="#JMXConsole-settings" title="settings on JMX Console">Default Settings</A> box.</P>

<OL>
	<LI>ServiceMix should be running first. Please see the <SPAN class="nobr"><A href="http://www.servicemix.org/Getting%20Started" title="Visit page outside Confluence" rel="nofollow">Getting Started<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN> guide for instructions on running ServiceMix.</LI>
	<LI>Start JConsole from a command shell. The JConsole executable can be found in the <TT>bin</TT> directory of the J2SE installation directory.
<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">cd [J2SE_install_dir]\bin
jconsole</PRE>
</DIV></DIV>
<P>The JConsole window will appear.
<BR clear="all">
<BR clear="all"></P></LI>
	<LI>Click on the &quot;Advanced&quot; tab. The following URL must be entered in the &quot;JMX URL&quot; box: service:jmx:rmi:///jndi/rmi://hostname:port/app_to_monitor. Where the <TT>hostname</TT> is name of the host on which the application to be monitored is running, the <TT>port</TT> is the port number to connect to the application, and the <TT>app_to_monitor</TT> is the JMX enabled application to monitor.  For  example, if none of the defaults for ServiceMix have been modified and ServiceMix is running on <TT>localhost</TT>, enter the following: <TT>service:jmx:rmi:///jndi/rmi://localhost:1099/defaultJBIJMX</TT>.
<BR clear="all">
<BR clear="all">
<IMG src="jmx-console.data/jconsoleagentscr.jpg" align="absmiddle" border="0">
<BR clear="all">
<BR clear="all"></LI>
	<LI>Click the <B>Connect</B> box to connect to the ServiceMix container. <TT>org.servicemix</TT> will be visible in the console. Click on <TT>org.servicemix</TT> to see its MBeans.
<BR clear="all">
<BR clear="all">
<IMG src="jmx-console.data/jconsoleconnection.jpg" align="absmiddle" border="0">
<BR clear="all"></LI>
</OL>


<H4><A name="JMXConsole-TestingJConsolewithServiceMix"></A>Testing JConsole with ServiceMix</H4>
<OL>
	<LI>To see JConsole in action, start one of the ServiceMix examples running, for instance, the <SPAN class="nobr"><A href="http://www.servicemix.org/Basic" title="Visit page outside Confluence" rel="nofollow"><EM>Basic</EM><SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN> Example:
<BR clear="all">
<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">cd [servicemix_install_dir]\examples\basic
..\..\bin\servicemix servicemix.xml</PRE>
</DIV></DIV>
<P>where <TT>servicemix_install_dir</TT> is the directory in which ServiceMix was installed.</P></LI>
	<LI>Run JConsole (see the previous section) and click on <TT>org.servicemix</TT>.</LI>
	<LI>Click on <TT>org.servicemix.jbi.framework.ComponentMBeanImpl</TT>. The components of the <EM>Basic</EM> example will be shown. Clicking on any of them will show the monitoring information available.
<BR clear="all">
<BR clear="all">
<IMG src="jmx-console.data/jconsolembeans.jpg" align="absmiddle" border="0">
<BR clear="all"></LI>
</OL>



<H2><A name="JMXConsole-UsingMC4J"></A>Using MC4J</H2>
<P><SPAN class="nobr"><A href="http://mc4j.org/confluence/display/MC4J/Home" title="Visit page outside Confluence" rel="nofollow">MC4J<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN> is a JMX Console. It can connect to J2EE servers, MBeans, and  other applications to monitor them.</P>

<H4><A name="JMXConsole-HowtoConnectMC4JtoMonitorServiceMix"></A>How to Connect MC4J to Monitor ServiceMix</H4>

<P>This section explains how to configure MC4J to monitor ServiceMix. The ServiceMix port number, the ServiceMix container id, and the JMX Service URL will be required. This information was specified in a previous section in the <A href="#JMXConsole-settings" title="settings on JMX Console">Default Settings</A> box. The server connection type will also be required - it is <B>JSR160</B>.</P>

<OL>
	<LI>ServiceMix should be running first. Please see the <SPAN class="nobr"><A href="http://www.servicemix.org/Getting%20Started" title="Visit page outside Confluence" rel="nofollow">Getting Started<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN> guide for instructions on running ServiceMix.</LI>
	<LI>Click on the MC4J executable <TT>MC4J Console 1.2b9.exe</TT> (for Windows) to start MC4J. The executable can be found in the top-level directory of the MC4J installation. The MC4J window will appear.</LI>
	<LI>Select &quot;Management&gt;Create Server Connection...&quot; from the menu. This will start &quot;My Wizard&quot;. The connection to ServiceMix can be created using the wizard.
<BR clear="all">
<BR clear="all">
<IMG src="jmx-console.data/mc4jwizard.jpg" align="absmiddle" border="0">
<BR clear="all">
<BR clear="all"></LI>
	<LI>Enter the following into the text boxes/pull-down menus:<BR>
  <B>Select your server connection type:</B> JSR160<BR>
  <B>Name:</B> This can any name, for example, ServiceMix<BR>
  <B>Server URL:</B> service:jmx:rmi:///jndi/rmi://localhost:1099/defaultJBIJMX<BR>
The Server URL is <TT>service:jmx:rmi:///jndi/rmi://hostname:port/app_to_monitor</TT>. Where the <TT>hostname</TT> is name of the host on which the application to be monitored is running, the <TT>port</TT> is the port number to connect to the application, and the <TT>app_to_monitor</TT> is the JMX-enabled application to monitor.  For  example, if none of the defaults for ServiceMix have been modified and ServiceMix is running on <TT>localhost</TT>, enter the following: <TT>service:jmx:rmi:///jndi/rmi://localhost:1099/defaultJBIJMX</TT>. </LI>
	<LI>Accept the defaults for the rest of the fields in the Wizard.</LI>
	<LI>Click &quot;Next.&quot;</LI>
	<LI>Click &quot;Finish&quot; in the next window.<BR>
A connection to ServiceMix has been added to MC4J!
<BR clear="all">
<BR clear="all">
<IMG src="jmx-console.data/mc4jconnections.jpg" align="absmiddle" border="0">
<BR clear="all"></LI>
</OL>


<H3><A name="JMXConsole-TestingMC4JwithServiceMix"></A>Testing MC4J with ServiceMix</H3>
<OL>
	<LI>To see MC4J in action, start one of the ServiceMix examples running, for instance, the <SPAN class="nobr"><A href="http://www.servicemix.org/File%20Binding" title="Visit page outside Confluence" rel="nofollow"><EM>file binding</EM><SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN> Example:
<BR clear="all">
<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">cd [servicemix_install_dir]\examples\file-binding
..\..\bin\servicemix servicemix.xml</PRE>
</DIV></DIV>
<P>where <TT>servicemix_install_dir</TT> is the directory in which ServiceMix was installed.</P></LI>
	<LI>Run MC4J (see the previous section) and click on <TT>org.servicemix</TT>.</LI>
	<LI>Click on <TT>org.servicemix.jbi.framework.ComponentMBeanImpl</TT>. The components of the <EM>File Binding</EM> example will be shown. Right-click on a component and select &quot;Available dashboards...&gt;Basic MBean View&quot; to see the information shown in the diagram below. For more details on using MC4J, please see the MC4J <SPAN class="nobr"><A href="http://mc4j.org/confluence/display/MC4J/Home" title="Visit page outside Confluence" rel="nofollow">documentation<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN>.
<BR clear="all">
<BR clear="all">
<IMG src="jmx-console.data/mc4jfilebinding.jpg" align="absmiddle" border="0"></LI>
</OL>




<H2><A name="JMXConsole-ServiceMixJMXConsole"></A>ServiceMix JMX Console</H2>

<P>ServiceMix includes a simple JMX operational console. A ServiceMix WAR file can be created and deployed inside any Servlet / J2EE application server in a standard deployment unit. The benefit of the ServiceMix WAR file is that it includes a JMX Console that allows a web browser to be used to view JMX attributes and statistics.</P>

<H4><A name="JMXConsole-StartingtheServiceMixJMXConsole"></A>Starting the ServiceMix JMX Console</H4>
<P>To create the ServiceMix WAR file from a source download of ServiceMix do the following:</P>

<OL>
	<LI>Download and build the ServiceMix source code. Please see the <SPAN class="nobr"><A href="http://www.servicemix.org/Getting%20Started" title="Visit page outside Confluence" rel="nofollow">Getting Started<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN> guide for instructions.</LI>
	<LI>Create the WAR file:
<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">cd [servicemix_install_dir]\tooling\servicemix-web
maven war</PRE>
</DIV></DIV>
<P>where <TT>servicemix_install_dir</TT> is the directory to which ServiceMix was downloaded.</P></LI>
	<LI>Deploy the WAR file into any servlet engine. Instructions for deploying ServiceMix on Tomcat, JBoss, and Geronimo can be found at the following links:
	<UL>
		<LI><SPAN class="nobr"><A href="http://www.servicemix.org/Tomcat%20Integration" title="Visit page outside Confluence" rel="nofollow">Tomcat<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
		<LI><SPAN class="nobr"><A href="http://www.servicemix.org/JBoss%20Deployer" title="Visit page outside Confluence" rel="nofollow">JBoss<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
		<LI><SPAN class="nobr"><A href="http://www.servicemix.org/Geronimo%20Integration" title="Visit page outside Confluence" rel="nofollow">Geronimo<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	</UL>
	</LI>
	<LI>Run the ServiceMix JMX Console. To do this enter the following URL in a web browser: <SPAN class="nobr"><A href="http://localhost:8080/servicemix-web" title="Visit page outside Confluence" rel="nofollow">http://localhost:8080/servicemix-web<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN>. You will see the following:
<BR clear="all">
<BR clear="all">
<IMG src="jmx-console.data/jmxconsole.jpg" align="absmiddle" border="0"></LI>
</OL>


<H4><A name="JMXConsole-UsingtheServiceMixJMXConsole"></A>Using the ServiceMix JMX Console</H4>

<P>For examples of how to use the ServiceMix JMX Console, please see <SPAN class="nobr"><A href="http://www.servicemix.org/War%20Deployment" title="Visit page outside Confluence" rel="nofollow">War Deployment<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN>.</P>


<H2><A name="JMXConsole-RelatedDocumentation"></A>Related Documentation</H2>

<UL>
	<LI><SPAN class="nobr"><A href="http://java.sun.com/developer/technicalArticles/J2SE/jconsole.html" title="Visit page outside Confluence" rel="nofollow">Sun&apos;s JConsole<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	<LI><SPAN class="nobr"><A href="http://mc4j.org/confluence/display/MC4J/Home" title="Visit page outside Confluence" rel="nofollow">MC4J<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	<LI><SPAN class="nobr"><A href="http://www.servicemix.org/War%20Deployment" title="Visit page outside Confluence" rel="nofollow">War Deployment<SUP><IMG class="rendericon" src="http://goopen.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN>.</LI>
</UL>


</DIV>
          
                  </DIV>
        </TD>
      </TR>
      </TABLE>     
      </DIV>
    </DIV>
    <DIV id="site-footer">
          Added by     <A href="http://goopen.org/confluence/users/viewuserprofile.action?username=rajdavies">Rob Davies</A>,
    last edited by     <A href="http://goopen.org/confluence/users/viewuserprofile.action?username=rajdavies">Rob Davies</A> on Feb 02, 2006
                  &nbsp;(<A href="http://goopen.org/confluence/pages/diffpages.action?pageId=2041&originalId=2970">view change</A>)
              
      (<A href="http://goopen.org/confluence/pages/editpage.action?pageId=2041">edit page</A>)
    </DIV>

  </BODY>

</HTML>