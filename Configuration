<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html>  <head>    <link rel="stylesheet" href="http://codehaus.org/codehaus-style.css" type="text/css">        <link rel="stylesheet" href="style.css" type="text/css">    <title>ServiceMix - Configuration</title>  </head>  <body>    <table width="100%" id="layout" style="padding:0px;margin0px;border-collapse:collapse;">      <tr>        <td colspan="3" style="padding:8px;">          <table width="100%" id="banner" style="padding:0px;margin:0px">            <tr id="header_row">              <td align="left" valign="middle" style="padding:0px;margin:0px;">                <span id="Content"><span><span class="nobr"><a href="http://incubator.apache.org/servicemix" rel="nofollow"><img align="absmiddle" border=0 src="images/logo.gif"></a></span></span></span>              </td>              <td align="right" valign="middle" style="padding:0px;margin:0px;">                <span id="Content"><span><span class="nobr"><a href="http://incubator.apache.org" rel="nofollow"><img align="absmiddle" border=0 src="http://incubator.apache.org/images/apache-incubator-logo.png"></a></span></span></span>              </td>            </tr>          </table>        </td>      </tr>      <tr>        <td colspan="3" id="breadcrumbs">          <table width="100%" id="banner" style="padding:0px;margin:0px">            <tr>              <td align="left">                <a href="">Home</a>  | <a href="Home">Home</a> &gt; Configuration              </td>              <td align="right">                  <span id="Content"><span><a href="Download" title="Download">Download</a> | <span class="nobr"><a href="http://servicemix.codehaus.org/maven/servicemix-core/apidocs/" rel="nofollow">JavaDocs</a></span> <span class="nobr"><a href="http://servicemix.codehaus.org/maven/servicemix-components/apidocs/" rel="nofollow">Components</a></span> | <a href="Source" title="Source">Source</a> | <span class="nobr"><a href="http://docs.codehaus.org/pages/listpages.action?key=SM" rel="nofollow">Wiki</a></span> |<span class="nobr"><a href="irc://irc.codehaus.org/servicemix" rel="nofollow">IRC</a></span> | <span class="nobr"><a href="http://servlet.uwyn.com/drone/log/hausbot/servicemix" rel="nofollow">IRC Log</a></span> | <a href="Mailing+Lists" title="Mailing Lists">Mailing Lists</a> | <a href="Discussion+Forums" title="Discussion Forums">Discussion Forums</a> | <span class="nobr"><a href="http://jira.logicblaze.com/jira/browse/SM" rel="nofollow">Support</a></span></span></span>              </td>            </tr>          </table>        </td>      </tr>      <tr>        <td id="leftColumn" valign="top" style="padding-top: 0px;">          <span id="Content"><h3><a name="Navigation-Overview"></a>Overview</h3>  <ul class="alternate" type="square">    <li><a href="Home" title="Home">Home</a></li>    <li><a href="Introduction+to+ESB" title="Introduction to ESB">Introduction to ESB</a></li>    <li><a href="Background+to+ServiceMix" title="Background to ServiceMix">Background to ServiceMix</a></li>    <li><a href="News" title="News">News</a></li>    <li><a href="FAQ" title="FAQ">FAQ</a></li>    <li><a href="Download" title="Download">Download</a></li>  </ul>  <h3><a name="Navigation-Community"></a>Community</h3>  <ul class="alternate" type="square">    <li><span class="nobr"><a href="http://docs.codehaus.org/pages/listpages.action?key=SM" rel="nofollow">Wiki</a></span></li>    <li><a href="Discussion+Forums" title="Discussion Forums">Discussion Forums</a></li>    <li><a href="Mailing+Lists" title="Mailing Lists">Mailing Lists</a></li>    <li><a href="Contributing" title="Contributing">Contributing</a></li>    <li><a href="Team" title="Team">Team</a></li>    <li><a href="Users" title="Users">Users</a></li>  </ul>  <h3><a name="Navigation-Documentation"></a>Documentation</h3>  <ul class="alternate" type="square">    <li><a href="Getting+Started" title="Getting Started">Getting Started</a></li>    <li><a href="Running" title="Running">Running</a></li>    <li><a href="Examples" title="Examples">Examples</a></li>    <li><a href="Use+Cases" title="Use Cases">Use Cases</a></li>    <li><a href="Configuration" title="Configuration">Configuration</a></li>    <li><a href="Xml+Reference" title="Xml Reference">Xml Reference</a></li>    <li><a href="Management" title="Management">Management</a></li>    <li><a href="Architecture" title="Architecture">Architecture</a></li>    <li><a href="Clustering" title="Clustering">Clustering</a></li>    <li><a href="NMR+Flows" title="NMR Flows">NMR Flows</a></li>    <li><a href="Articles" title="Articles">Articles</a></li>  </ul>  <h3><a name="Navigation-Reference"></a>Reference</h3>  <ul class="alternate" type="square">    <li><span class="nobr"><a href="http://java.sun.com/integration/1.0/docs/sdk/api/index.html" rel="nofollow">JBI API</a></span></li>    <li><span class="nobr"><a href="http://servicemix.codehaus.org/maven/servicemix-core/apidocs/" rel="nofollow">JavaDocs Core</a></span></li>    <li><span class="nobr"><a href="http://servicemix.codehaus.org/maven/servicemix-components/apidocs/" rel="nofollow">JavaDocs Components</a></span></li>    <li><span class="nobr"><a href="http://servicemix.codehaus.org/maven/servicemix-console/apidocs/" rel="nofollow">JavaDocs Console</a></span></li>    <li><a href="Glossary" title="Glossary">Glossary</a></li>  </ul>  <h3><a name="Navigation-Features"></a>Features</h3>  <ul class="alternate" type="square">    <li><a href="Components" title="Components">Components</a></li>    <li><a href="Routing" title="Routing">Routing</a></li>    <li><a href="Transformation" title="Transformation">Transformation</a></li>    <li><a href="Spring+Client+Toolkit" title="Spring Client Toolkit">Spring Client Toolkit</a></li>    <li><a href="Client+API" title="Client API">Client API</a></li>    <li><a href="POJO+support" title="POJO support">POJO support</a></li>    <li><a href="Expressions" title="Expressions">Expressions</a></li>    <li><a href="Component+helper+classes" title="Component helper classes">Component helper classes</a></li>    <li><a href="Ant+Tasks" title="Ant Tasks">Ant Tasks</a></li>    <li><a href="JMX+Console" title="JMX Console">JMX Console</a></li>  </ul>  <h3><a name="Navigation-Integration"></a>Integration</h3>  <ul class="alternate" type="square">    <li><a href="Spring+support" title="Spring support">Spring support</a></li>    <li><a href="Geronimo+Integration" title="Geronimo Integration">Geronimo Integration</a></li>    <li><a href="JBoss+Deployer" title="JBoss Deployer">JBoss Integration</a></li>    <li><a href="Tomcat+Integration" title="Tomcat Integration">Tomcat Integration</a></li>    <li><a href="JNDI+configuration" title="JNDI configuration">JNDI configuration</a></li>  </ul>  <h3><a name="Navigation-ServiceMixComponents"></a>ServiceMix Components</h3>  <ul class="alternate" type="square">    <li><a href="BPEL" title="BPEL">BPEL</a></li>    <li><a href="Cache" title="Cache">Cache</a></li>    <li><a href="Drools" title="Drools">Drools</a></li>    <li><a href="Email" title="Email">Email</a></li>    <li><a href="File" title="File">File</a></li>    <li><a href="FTP" title="FTP">FTP</a></li>    <li><a href="Groovy" title="Groovy">Groovy</a></li>    <li><a href="HTTP" title="HTTP">HTTP</a></li>    <li><a href="Jabber" title="Jabber">Jabber</a></li>    <li><a href="JAX+WS" title="JAX WS">JAX WS</a></li>    <li><a href="JCA" title="JCA">JCA</a></li>    <li><a href="JMS" title="JMS">JMS</a></li>    <li><a href="Quartz" title="Quartz">Quartz</a></li>    <li><a href="Reflection" title="Reflection">Reflection</a></li>    <li><a href="RSS" title="RSS">RSS</a></li>    <li><a href="SAAJ" title="SAAJ">SAAJ</a></li>    <li><a href="Scripting" title="Scripting">Scripting</a></li>    <li><a href="ServiceMix" title="ServiceMix">ServiceMix</a></li>    <li><a href="Validation" title="Validation">Validation</a></li>    <li><a href="XFire" title="XFire">XFire</a></li>    <li><a href="XPath+Router" title="XPath Router">XPath Router</a></li>    <li><a href="XSLT" title="XSLT">XSLT</a></li>    <li><a href="XSQL" title="XSQL">XSQL</a></li>    <li><a href="VFS" title="VFS">VFS</a></li>    <li><a href="WSIF" title="WSIF">WSIF</a></li>  </ul>  <h3><a name="Navigation-Tooling"></a>Tooling</h3>  <ul class="alternate" type="square">    <li><a href="Eclipse+plugin" title="Eclipse plugin">Eclipse plugin</a></li>    <li><a href="JBoss+Deployer" title="JBoss Deployer">JBoss Deployer</a></li>    <li><a href="WAR+Deployment" title="WAR Deployment">WAR Deployment</a></li>    <li><a href="Maven+JBI+plugin" title="Maven JBI plugin">Maven JBI plugin</a></li>    <li><a href="Maven+SAR+plugin" title="Maven SAR plugin">Maven SAR plugin</a></li>  </ul>  <h3><a name="Navigation-Utilities"></a>Utilities</h3>  <ul class="alternate" type="square">    <li><a href="Reflection" title="Reflection">Reflection</a></li>  </ul>  <h3><a name="Navigation-OtherJBIsoftware"></a>Other JBI software</h3>  <ul class="alternate" type="square">    <li><span class="nobr"><a href="http://forge.objectweb.org/projects/celtix/" rel="nofollow">Celtix</a></span></li>    <li><span class="nobr"><a href="http://pxe.fivesight.com/wiki/display/PXE/Home" rel="nofollow" title="Visit page outside Confluence">PXE BPEL Engine</a></span></li>  </ul>  <h3><a name="Navigation-RelatedProjects"></a>Related Projects</h3>  <ul class="alternate" type="square">    <li><span class="nobr"><a href="http://activemq.codehaus.org/" rel="nofollow">ActiveMQ</a></span></li>    <li><span class="nobr"><a href="http://jencks.org/" rel="nofollow">Jencks</a></span></li>    <li><span class="nobr"><a href="http://lingo.codehaus.org/" rel="nofollow">Lingo</a></span></li>    <li><span class="nobr"><a href="http://activesoap.codehaus.org/" rel="nofollow">ActiveSOAP</a></span></li>    <li><span class="nobr"><a href="http://www.springframework.org/" rel="nofollow">Spring</a></span></li>    <li><span class="nobr"><a href="http://geronimo.apache.org/" rel="nofollow">Geronimo</a></span></li>  </ul>  <h3><a name="Navigation-Support"></a>Support</h3>  <ul class="alternate" type="square">    <li><span class="nobr"><a href="http://jira.logicblaze.com/jira/browse/SM" rel="nofollow">Issues</a></span></li>    <li><span class="nobr"><a href="http://jira.logicblaze.com/browse/SM?report=com.atlassian.jira.plugin.system.project:roadmap-panel" rel="nofollow">Roadmap</a></span></li>    <li><span class="nobr"><a href="http://jira.logicblaze.com/browse/SM?report=com.atlassian.jira.plugin.system.project:changelog-panel" rel="nofollow">Change log</a></span></li>  </ul>  <h3><a name="Navigation-Developers"></a>Developers</h3>  <ul class="alternate" type="square">    <li><a href="Source" title="Source">Source</a></li>    <li><a href="Roadmap" title="Roadmap">Roadmap</a></li>    <li><a href="Ideas" title="Ideas">Ideas</a></li>    <li><a href="Becoming+a+committer" title="Becoming a committer">Becoming a committer</a></li>    <li><a href="Release+Guide" title="Release Guide">Release Guide</a></li>    <li><span class="nobr"><a href="http://ci.codehaus.org/beetlejuice/viewProjectSummary.action?projectName=ServiceMix" rel="nofollow">BeetleJuice</a></span></li>    <li><span class="nobr"><a href="http://servicemix.codehaus.org/maven/clover/" rel="nofollow">Clover Report</a></span></li>    <li><span class="nobr"><a href="http://servicemix.codehaus.org/maven/xref/index.html" rel="nofollow">Source XRef</a></span></li>    <li><span class="nobr"><a href="http://servicemix.codehaus.org/maven/xref-test/index.html" rel="nofollow">Test Source XRef</a></span></li>    <li><span class="nobr"><a href="http://servicemix.codehaus.org/maven/servicemix.xsd.html" rel="nofollow">XSD</a></span></li>  </ul>  <h3><a name="Navigation-Toolsweuse"></a>Tools we use</h3><span><span class="nobr"><a href="http://www.yourkit.com" rel="nofollow"><img align="absmiddle" border=0 src="http://www.servicemix.org/download/attachments/25208/yourkit.jpg"></a></span></span></span>            <h3 class="heading3">Feeds</h3>            <table border="0" cellspacing="4px">            <tr>              <td align="right">                <a href="http://docs.codehaus.org/spaces/rss.action?key=SM&newPages=false"><img src="http://docs.codehaus.org/images/icons/rss.gif" border="0"></a><br/>              </td>              <td align="left">                <a href="http://docs.codehaus.org/spaces/rss.action?key=SM&newPages=false">Site</a>              </td>            </tr>            <tr>              <td align="right">                <a href="http://docs.codehaus.org/spaces/blogrss.action?key=SM"><img src="http://docs.codehaus.org/images/icons/rss.gif" border="0"></a>              </td>              <td align="left">                <a href="http://docs.codehaus.org/spaces/blogrss.action?key=SM">News</a>              </td>            </tr>            </table>        </td>        <td id="rightColumn" valign="top">          <div id="page_title">            <table width="100%">              <tr>                <td>            Configuration                 </td>                <td align="right">                            </td>              </tr>            </table>          </div>          <div>  <div id="Content">    <h2><a name="Configuration-XMLConfiguration"></a>XML Configuration</h2>    <p>ServiceMix uses XML configuration files. From 2.0 of ServiceMix onwards we use the <span class="nobr"><a href="http://xbean.org/" rel="nofollow">XBean</a></span> library to do the XML configuration; which allows you to use regular Spring configuration or our custom XSD based XML configuration.</p>    <p>For a reference guide and to see the XSD see the <a href="Xml+Reference" title="Xml Reference">Xml Reference</a></p>    <h2><a name="Configuration-KeyAttributes"></a>Key Attributes</h2>    <p>ServiceMix has a number of parameters that you can set to change it's runtime behaviour on either the <span class="nobr"><a href="http://servicemix.codehaus.org/maven/apidocs/org/servicemix/jbi/container/JBIContainer.html" rel="nofollow">JBIContainer </a></span> or the derived <span class="nobr"><a href="http://servicemix.codehaus.org/maven/apidocs/org/servicemix/jbi/container/SpringJBIContainer.html" rel="nofollow">SpringJBIContainer </a></span>. <br clear="all"> These are as follows:</p>    <p class="paragraph">      <table align="center" border=0 cellpadding=5 cellspacing="8px" class="infoMacro" width="85%">        <colgroup>          <col width=24>          <col>        </colgroup>        <tr>          <td valign="top"><img align="absmiddle" alt="" border=0 height=16 src="http://www.servicemix.org/images/icons/emoticons/information.gif" width=16></td>          <td><b class="strong">Key Attributes</b><br>            <table class="confluenceTable">              <tbody>                <tr>                  <th class="confluenceTh"> Name </th>                  <th class="confluenceTh"> type </th>                  <th class="confluenceTh"> Description </th>                </tr>                <tr>                  <td class="confluenceTd"> name </td>                  <td class="confluenceTd"> String </td>                  <td class="confluenceTd"> name of the container - needs to be unique if running in a <b><em>cluster</em></b> The default is <b>defaultJBI</b></td>                </tr>                <tr>                  <td class="confluenceTd"> rootDir </td>                  <td class="confluenceTd"> String </td>                  <td class="confluenceTd"> the path to the directory structure used by ServiceMix - the default is <b><em>&lt;current directory&gt;/wdir</em></b></td>                </tr>                <tr>                  <td class="confluenceTd"> flowName </td>                  <td class="confluenceTd"> String </td>                  <td class="confluenceTd"> one of <b><em>seda</em></b>, <b><em>st</em></b>, <b><em>jms</em></b> or <b><em>jca</em></b> - see <a href="NMR+Flows" title="NMR Flows">NMR Flows</a></td>                </tr>                <tr>                  <td class="confluenceTd"> useMBeanServer </td>                  <td class="confluenceTd"> boolean </td>                  <td class="confluenceTd"> if true, ServiceMix will try and find an MBeanServer from the MBeanServerFactory if one is not supplied </td>                </tr>                <tr>                  <td class="confluenceTd"> createMBeanServer </td>                  <td class="confluenceTd"> boolean </td>                  <td class="confluenceTd"> if true, ServiceMix will create it's own MBeanServer if one is not supplied to the container or found from an MBeanServerFactory </td>                </tr>                <tr>                  <td class="confluenceTd"> installationDirPath </td>                  <td class="confluenceTd"> String </td>                  <td class="confluenceTd"> the path to the installation directory that ServiceMix can optionally monitor for new component archives </td>                </tr>                <tr>                  <td class="confluenceTd"> monitorInstallationDirectory </td>                  <td class="confluenceTd"> boolean </td>                  <td class="confluenceTd"> if true, ServiceMix will monitor the installation directory for new component archives to install </td>                </tr>                <tr>                  <td class="confluenceTd"> deploymentDirPath </td>                  <td class="confluenceTd"> String </td>                  <td class="confluenceTd"> the path to the deployment directory that ServiceMix can optionally monitor for new service assembilies </td>                </tr>                <tr>                  <td class="confluenceTd"> monitorDeploymentDirectory </td>                  <td class="confluenceTd"> boolean </td>                  <td class="confluenceTd"> if true, ServiceMix will monitor the deployment directory for new service assembilies to deploy </td>                </tr>                <tr>                  <td class="confluenceTd"> dumpStats </td>                  <td class="confluenceTd"> boolean </td>                  <td class="confluenceTd"> if true, ServiceMix will dump message throughput statistics to file for individual components </td>                </tr>                <tr>                  <td class="confluenceTd"> statsInterval </td>                  <td class="confluenceTd"> int </td>                  <td class="confluenceTd"> interval (in seconds) between collection of statistics for message throughput </td>                </tr>                <tr>                </tr>              </tbody>            </table>          </td>        </tr>      </table>    </p>    <p>      <br clear="all">    </p>    <h2><a name="Configuration-RootDirectory"></a>Root Directory</h2>    <p>ServiceMix uses a directory structure on local disk for unpacking archives, storing running state and statistics etc. However, if you are running only POJO based Components, then typically the directory structure will not be needed or created.</p>    <p>Under the root directory, there are specific sub-directories, named after the <b><em>JBIContainer</em></b> name. Hence, if you are running multiple instances of ServiceMix on the same machine it is advisable to give each instance a unique name.</p>    <p>If the installation directory is present, and <b><em>monitorInstallationDirectory</em></b> is enabled, then the directory will be polled for new archives of Components or Service Assembilies to install. The installation directory can be configured to be in a different location by setting the attribute <b><em>installationDirPath</em></b> on the <b><em>JBIContainer</em></b>.<br> The default directory layout is shown below:</p>    <p class="paragraph">      <div class="panel" style="border-style: solid; border-color: #ccc; ">        <div class="panelHeader" style="border-bottom-style: solid; border-bottom-color: #ccc; "><b>ServiceMix Directory Layout</b></div>        <div class="panelContent">          <p><img align="absmiddle" border=0 src="http://servicemix.org/smdir.jpg"></p>        </div>      </div>    </p>    <h2><a name="Configuration-Components"></a>Components</h2>    <h3><a name="Configuration-Workingwithcomponents"></a>Working with components</h3>    <p>Another simple way to get started with ServiceMix is to try out the <a href="Spring+support" title="Spring support">Spring Support</a>. Then you can use ServiceMix inside your application right way, using Spring to wire the components together.</p>    <p>To interact with JBI components, you should try out the <a href="Client+API" title="Client API">Client API</a>.</p>    <p>Alternatively you might want to try using our <a href="Groovy" title="Groovy">Groovy</a> support to script ServiceMix really easily - or use <a href="Scripting" title="Scripting">Scripting</a> to use any other scripting engine to script JBI messages and services.</p>    <h3><a name="Configuration-Developingcomponents"></a>Developing components</h3>    <p>To developing components you might want to check out our <a href="Component+helper+classes" title="Component helper classes">Component helper classes</a> to take away some of the plumbing required to write JBI components - plus do take a look at the <a href="POJO+support" title="POJO support">POJO Support</a> for how to drop simple POJOs into ServiceMix.</p>    <h3><a name="Configuration-DeployingnewJBIdeploymentunits"></a>Deploying new JBI deployment units</h3>    <p>JBI defines a collection of different JBI deployment units (components, service units etc). ServiceMix supports these and allows hot deployment of these at runtime. You can use the <a href="Ant+Tasks" title="Ant Tasks">Ant Tasks</a> for these along with the <a href="Management" title="Management">Management</a> features.</p>    <p>Another option is to drop <em>component archives</em> into the <b><em>$SERVICEMIX_HOME/install</em></b> directory and <em>service assembilies</em> into the <b><em>$SERVICEMIX_HOME/deploy</em></b> directory for them to be auto-deployed.</p>    <p class="paragraph">      <table align="center" border=0 cellpadding=5 cellspacing="8px" class="infoMacro" width="85%">        <colgroup>          <col width=24>          <col>        </colgroup>        <tr>          <td valign="top"><img align="absmiddle" alt="" border=0 height=16 src="http://www.servicemix.org/images/icons/emoticons/information.gif" width=16></td>          <td>            <p><b>For example configurations - see</b> <b><a href="Examples" title="Examples">examples</a></b> <b>where the</b> <b><a href="BPEL" title="BPEL">BPEL</a></b> <b>example uses auto-deployment.</b></p>          </td>        </tr>      </table>    </p>  </div></div>          &nbsp;        </td>      </tr>      <tr>        <td colspan="3" id="footer">          <table width="100%">             <tr>              <td align="left" valign="top">          Copyright 2004. All rights reserved unless otherwise noted.<br/>          Powered by <a href="http://atlassian.com/">Atlassian</a> <a href="http://atlassian.com/confluence/">Confluence</a>.              </td>              <td align="right" valign="top">          <a style="color:#999;" href="http://docs.codehaus.org/pages/editpage.action?spaceKey=SM&title=Configuration">[ edit ]</a>              </td>            </tr>          <table>        </td>      </tr>    </table>  </body></html>