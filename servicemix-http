<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html>  <head>    <link rel="stylesheet" href="http://codehaus.org/codehaus-style.css" type="text/css">        <link rel="stylesheet" href="style.css" type="text/css">    <title>ServiceMix - servicemix-http</title>  </head>  <body>    <table width="100%" id="layout" style="padding:0px;margin0px;border-collapse:collapse;">      <tr>        <td colspan="3" style="padding:8px;">          <table width="100%" id="banner" style="padding:0px;margin:0px">            <tr id="header_row">              <td align="left" valign="middle" style="padding:0px;margin:0px;">                <span id="Content"><span><span class="nobr"><a href="http://incubator.apache.org/servicemix" rel="nofollow"><img align="absmiddle" border=0 src="images/logo.gif"></a></span></span></span>              </td>              <td align="right" valign="middle" style="padding:0px;margin:0px;">                <span id="Content"><span><span class="nobr"><a href="http://incubator.apache.org" rel="nofollow"><img align="absmiddle" border=0 src="http://incubator.apache.org/images/apache-incubator-logo.png"></a></span></span></span>              </td>            </tr>          </table>        </td>      </tr>      <tr>        <td colspan="3" id="breadcrumbs">          <table width="100%" id="banner" style="padding:0px;margin:0px">            <tr>              <td align="left">                <a href="">Home</a>  | <a href="Navigation">Navigation</a> &gt; <a href="Components">Components</a> &gt; servicemix-http              </td>              <td align="right">                  <span id="Content"><span><a href="Download" title="Download">Download</a> | <span class="nobr"><a href="http://servicemix.codehaus.org/maven/servicemix-core/apidocs/" rel="nofollow">JavaDocs</a></span> <span class="nobr"><a href="http://servicemix.codehaus.org/maven/servicemix-components/apidocs/" rel="nofollow">Components</a></span> | <a href="Source" title="Source">Source</a> | <span class="nobr"><a href="http://docs.codehaus.org/pages/listpages.action?key=SM" rel="nofollow">Wiki</a></span> |<span class="nobr"><a href="irc://irc.codehaus.org/servicemix" rel="nofollow">IRC</a></span> | <span class="nobr"><a href="http://servlet.uwyn.com/drone/log/hausbot/servicemix" rel="nofollow">IRC Log</a></span> | <a href="Mailing+Lists" title="Mailing Lists">Mailing Lists</a> | <a href="Discussion+Forums" title="Discussion Forums">Discussion Forums</a> | <span class="nobr"><a href="http://jira.logicblaze.com/jira/browse/SM" rel="nofollow">Support</a></span></span></span>              </td>            </tr>          </table>        </td>      </tr>      <tr>        <td id="leftColumn" valign="top" style="padding-top: 0px;">          <span id="Content"><h3><a name="Navigation-Overview"></a>Overview</h3>  <ul class="alternate" type="square">    <li><a href="Home" title="Home">Home</a></li>    <li><a href="Introduction+to+ESB" title="Introduction to ESB">Introduction to ESB</a></li>    <li><a href="Background+to+ServiceMix" title="Background to ServiceMix">Background to ServiceMix</a></li>    <li><a href="News" title="News">News</a></li>    <li><a href="FAQ" title="FAQ">FAQ</a></li>    <li><a href="Download" title="Download">Download</a></li>  </ul>  <h3><a name="Navigation-Community"></a>Community</h3>  <ul class="alternate" type="square">    <li><span class="nobr"><a href="http://docs.codehaus.org/pages/listpages.action?key=SM" rel="nofollow">Wiki</a></span></li>    <li><a href="Discussion+Forums" title="Discussion Forums">Discussion Forums</a></li>    <li><a href="Mailing+Lists" title="Mailing Lists">Mailing Lists</a></li>    <li><a href="Contributing" title="Contributing">Contributing</a></li>    <li><a href="Team" title="Team">Team</a></li>    <li><a href="Users" title="Users">Users</a></li>  </ul>  <h3><a name="Navigation-Documentation"></a>Documentation</h3>  <ul class="alternate" type="square">    <li><a href="Getting+Started" title="Getting Started">Getting Started</a></li>    <li><a href="Running" title="Running">Running</a></li>    <li><a href="Examples" title="Examples">Examples</a></li>    <li><a href="Use+Cases" title="Use Cases">Use Cases</a></li>    <li><a href="Configuration" title="Configuration">Configuration</a></li>    <li><a href="Xml+Reference" title="Xml Reference">Xml Reference</a></li>    <li><a href="Management" title="Management">Management</a></li>    <li><a href="Architecture" title="Architecture">Architecture</a></li>    <li><a href="Clustering" title="Clustering">Clustering</a></li>    <li><a href="NMR+Flows" title="NMR Flows">NMR Flows</a></li>    <li><a href="Articles" title="Articles">Articles</a></li>  </ul>  <h3><a name="Navigation-Reference"></a>Reference</h3>  <ul class="alternate" type="square">    <li><span class="nobr"><a href="http://java.sun.com/integration/1.0/docs/sdk/api/index.html" rel="nofollow">JBI API</a></span></li>    <li><span class="nobr"><a href="http://servicemix.codehaus.org/maven/servicemix-core/apidocs/" rel="nofollow">JavaDocs Core</a></span></li>    <li><span class="nobr"><a href="http://servicemix.codehaus.org/maven/servicemix-components/apidocs/" rel="nofollow">JavaDocs Components</a></span></li>    <li><span class="nobr"><a href="http://servicemix.codehaus.org/maven/servicemix-console/apidocs/" rel="nofollow">JavaDocs Console</a></span></li>    <li><a href="Glossary" title="Glossary">Glossary</a></li>  </ul>  <h3><a name="Navigation-Features"></a>Features</h3>  <ul class="alternate" type="square">    <li><a href="Components" title="Components">Components</a></li>    <li><a href="Routing" title="Routing">Routing</a></li>    <li><a href="Transformation" title="Transformation">Transformation</a></li>    <li><a href="Spring+Client+Toolkit" title="Spring Client Toolkit">Spring Client Toolkit</a></li>    <li><a href="Client+API" title="Client API">Client API</a></li>    <li><a href="POJO+support" title="POJO support">POJO support</a></li>    <li><a href="Expressions" title="Expressions">Expressions</a></li>    <li><a href="Component+helper+classes" title="Component helper classes">Component helper classes</a></li>    <li><a href="Ant+Tasks" title="Ant Tasks">Ant Tasks</a></li>    <li><a href="JMX+Console" title="JMX Console">JMX Console</a></li>  </ul>  <h3><a name="Navigation-Integration"></a>Integration</h3>  <ul class="alternate" type="square">    <li><a href="Spring+support" title="Spring support">Spring support</a></li>    <li><a href="Geronimo+Integration" title="Geronimo Integration">Geronimo Integration</a></li>    <li><a href="JBoss+Deployer" title="JBoss Deployer">JBoss Integration</a></li>    <li><a href="Tomcat+Integration" title="Tomcat Integration">Tomcat Integration</a></li>    <li><a href="JNDI+configuration" title="JNDI configuration">JNDI configuration</a></li>  </ul>  <h3><a name="Navigation-ServiceMixComponents"></a>ServiceMix Components</h3>  <ul class="alternate" type="square">    <li><a href="BPEL" title="BPEL">BPEL</a></li>    <li><a href="Cache" title="Cache">Cache</a></li>    <li><a href="Drools" title="Drools">Drools</a></li>    <li><a href="Email" title="Email">Email</a></li>    <li><a href="File" title="File">File</a></li>    <li><a href="FTP" title="FTP">FTP</a></li>    <li><a href="Groovy" title="Groovy">Groovy</a></li>    <li><a href="HTTP" title="HTTP">HTTP</a></li>    <li><a href="Jabber" title="Jabber">Jabber</a></li>    <li><a href="JAX+WS" title="JAX WS">JAX WS</a></li>    <li><a href="JCA" title="JCA">JCA</a></li>    <li><a href="JMS" title="JMS">JMS</a></li>    <li><a href="Quartz" title="Quartz">Quartz</a></li>    <li><a href="Reflection" title="Reflection">Reflection</a></li>    <li><a href="RSS" title="RSS">RSS</a></li>    <li><a href="SAAJ" title="SAAJ">SAAJ</a></li>    <li><a href="Scripting" title="Scripting">Scripting</a></li>    <li><a href="ServiceMix" title="ServiceMix">ServiceMix</a></li>    <li><a href="Validation" title="Validation">Validation</a></li>    <li><a href="XFire" title="XFire">XFire</a></li>    <li><a href="XPath+Router" title="XPath Router">XPath Router</a></li>    <li><a href="XSLT" title="XSLT">XSLT</a></li>    <li><a href="XSQL" title="XSQL">XSQL</a></li>    <li><a href="VFS" title="VFS">VFS</a></li>    <li><a href="WSIF" title="WSIF">WSIF</a></li>  </ul>  <h3><a name="Navigation-Tooling"></a>Tooling</h3>  <ul class="alternate" type="square">    <li><a href="Eclipse+plugin" title="Eclipse plugin">Eclipse plugin</a></li>    <li><a href="JBoss+Deployer" title="JBoss Deployer">JBoss Deployer</a></li>    <li><a href="WAR+Deployment" title="WAR Deployment">WAR Deployment</a></li>    <li><a href="Maven+JBI+plugin" title="Maven JBI plugin">Maven JBI plugin</a></li>    <li><a href="Maven+SAR+plugin" title="Maven SAR plugin">Maven SAR plugin</a></li>  </ul>  <h3><a name="Navigation-Utilities"></a>Utilities</h3>  <ul class="alternate" type="square">    <li><a href="Reflection" title="Reflection">Reflection</a></li>  </ul>  <h3><a name="Navigation-OtherJBIsoftware"></a>Other JBI software</h3>  <ul class="alternate" type="square">    <li><span class="nobr"><a href="http://forge.objectweb.org/projects/celtix/" rel="nofollow">Celtix</a></span></li>    <li><span class="nobr"><a href="http://pxe.fivesight.com/wiki/display/PXE/Home" rel="nofollow" title="Visit page outside Confluence">PXE BPEL Engine</a></span></li>  </ul>  <h3><a name="Navigation-RelatedProjects"></a>Related Projects</h3>  <ul class="alternate" type="square">    <li><span class="nobr"><a href="http://activemq.codehaus.org/" rel="nofollow">ActiveMQ</a></span></li>    <li><span class="nobr"><a href="http://jencks.org/" rel="nofollow">Jencks</a></span></li>    <li><span class="nobr"><a href="http://lingo.codehaus.org/" rel="nofollow">Lingo</a></span></li>    <li><span class="nobr"><a href="http://activesoap.codehaus.org/" rel="nofollow">ActiveSOAP</a></span></li>    <li><span class="nobr"><a href="http://www.springframework.org/" rel="nofollow">Spring</a></span></li>    <li><span class="nobr"><a href="http://geronimo.apache.org/" rel="nofollow">Geronimo</a></span></li>  </ul>  <h3><a name="Navigation-Support"></a>Support</h3>  <ul class="alternate" type="square">    <li><span class="nobr"><a href="http://jira.logicblaze.com/jira/browse/SM" rel="nofollow">Issues</a></span></li>    <li><span class="nobr"><a href="http://jira.logicblaze.com/browse/SM?report=com.atlassian.jira.plugin.system.project:roadmap-panel" rel="nofollow">Roadmap</a></span></li>    <li><span class="nobr"><a href="http://jira.logicblaze.com/browse/SM?report=com.atlassian.jira.plugin.system.project:changelog-panel" rel="nofollow">Change log</a></span></li>  </ul>  <h3><a name="Navigation-Developers"></a>Developers</h3>  <ul class="alternate" type="square">    <li><a href="Source" title="Source">Source</a></li>    <li><a href="Roadmap" title="Roadmap">Roadmap</a></li>    <li><a href="Ideas" title="Ideas">Ideas</a></li>    <li><a href="Becoming+a+committer" title="Becoming a committer">Becoming a committer</a></li>    <li><a href="Release+Guide" title="Release Guide">Release Guide</a></li>    <li><span class="nobr"><a href="http://ci.codehaus.org/beetlejuice/viewProjectSummary.action?projectName=ServiceMix" rel="nofollow">BeetleJuice</a></span></li>    <li><span class="nobr"><a href="http://servicemix.codehaus.org/maven/clover/" rel="nofollow">Clover Report</a></span></li>    <li><span class="nobr"><a href="http://servicemix.codehaus.org/maven/xref/index.html" rel="nofollow">Source XRef</a></span></li>    <li><span class="nobr"><a href="http://servicemix.codehaus.org/maven/xref-test/index.html" rel="nofollow">Test Source XRef</a></span></li>    <li><span class="nobr"><a href="http://servicemix.codehaus.org/maven/servicemix.xsd.html" rel="nofollow">XSD</a></span></li>  </ul>  <h3><a name="Navigation-Toolsweuse"></a>Tools we use</h3><span><span class="nobr"><a href="http://www.yourkit.com" rel="nofollow"><img align="absmiddle" border=0 src="http://www.servicemix.org/download/attachments/25208/yourkit.jpg"></a></span></span></span>            <h3 class="heading3">Feeds</h3>            <table border="0" cellspacing="4px">            <tr>              <td align="right">                <a href="http://docs.codehaus.org/spaces/rss.action?key=SM&newPages=false"><img src="http://docs.codehaus.org/images/icons/rss.gif" border="0"></a><br/>              </td>              <td align="left">                <a href="http://docs.codehaus.org/spaces/rss.action?key=SM&newPages=false">Site</a>              </td>            </tr>            <tr>              <td align="right">                <a href="http://docs.codehaus.org/spaces/blogrss.action?key=SM"><img src="http://docs.codehaus.org/images/icons/rss.gif" border="0"></a>              </td>              <td align="left">                <a href="http://docs.codehaus.org/spaces/blogrss.action?key=SM">News</a>              </td>            </tr>            </table>        </td>        <td id="rightColumn" valign="top">          <div id="page_title">            <table width="100%">              <tr>                <td>            servicemix-http                 </td>                <td align="right">                            </td>              </tr>            </table>          </div>          <div>  <div id="Content">    <h1><a name="servicemix-http-servicemixhttp"></a>servicemix-http</h1>    <p>ServiceMix ships with a JBI compliant HTTP/SOAP binding component named servicemix-http.</p>    <p>Here are the main features:</p>    <ul>      <li>JBI compliant Binding Component</li>      <li>Usable in a lightweight mode in servicemix.xml configuration files</li>      <li>Integrated HTTP server based on <span class="nobr"><a href="http://jetty.mortbay.org/jetty6/" rel="nofollow">Jetty 6</a></span></li>      <li>HTTP Client using <span class="nobr"><a href="http://jakarta.apache.org/commons/httpclient/" rel="nofollow">Jakarta Commons HTTP Client</a></span></li>      <li>Highly performant and scalable using <span class="nobr"><a href="http://www.mortbay.com/MB/log/gregw/?permalink=Jetty6Continuations.html" rel="nofollow">Jetty 6 continuations</a></span></li>      <li>SOAP 1.1 and 1.2 support</li>      <li>MIME attachments</li>    </ul>    <ul>      <li>WS-Addressing support</li>      <li>WSDL based and XBean based deployments</li>      <li>Support for all MEPs as consumers or providers</li>    </ul>    <h2><a name="servicemix-http-Installation"></a>Installation</h2>    <p>Installing the servicemix-http component can be done in several ways:</p>    <ul>      <li>drop the installer zip in an hotdeploy directory monitored by ServiceMix</li>      <li>using <a href="Ant+Tasks" title="Ant Tasks">ant tasks</a></li>    </ul>    <p>Note that when using ant tasks, the component is not started, you will have to start it manually using ant tasks or a console.</p>    <h2><a name="servicemix-http-Configuration"></a>Configuration</h2>    <p>Several parameters can be configured using a JMX console.</p>    <p class="paragraph">      <table align="center" border=0 cellpadding=5 cellspacing="8px" class="infoMacro" width="85%">        <colgroup>          <col width=24>          <col>        </colgroup>        <tr>          <td valign="top"><img align="absmiddle" alt="" border=0 height=16 src="http://www.servicemix.org/images/icons/emoticons/information.gif" width=16></td>          <td><b class="strong">Configuration</b><br>            <table class="confluenceTable">              <tbody>                <tr>                  <th class="confluenceTh"> Name </th>                  <th class="confluenceTh"> Type </th>                  <th class="confluenceTh"> Description </th>                  <th class="confluenceTh"> Default </th>                </tr>                <tr>                  <td class="confluenceTd"> streamingEnabled </td>                  <td class="confluenceTd"> boolean </td>                  <td class="confluenceTd"> send client side requests using HTTP streaming </td>                  <td class="confluenceTd"> false </td>                </tr>                <tr>                  <td class="confluenceTd"> jettyConnectorClassName </td>                  <td class="confluenceTd"> String </td>                  <td class="confluenceTd"> Jetty connector class name </td>                  <td class="confluenceTd"> org.mortbay.nio.SelectChannelConnector </td>                </tr>                <tr>                  <td class="confluenceTd"> jettyThreadPoolSize </td>                  <td class="confluenceTd"> int </td>                  <td class="confluenceTd"> thread pool size for server side requests </td>                  <td class="confluenceTd"> 255 </td>                </tr>                <tr>                  <td class="confluenceTd"> maxConnectionsPerHost </td>                  <td class="confluenceTd"> int </td>                  <td class="confluenceTd"> max number of simultaneous connections to a given host </td>                  <td class="confluenceTd"> 32 </td>                </tr>                <tr>                  <td class="confluenceTd"> maxTotalConnections </td>                  <td class="confluenceTd"> int </td>                  <td class="confluenceTd"> max number of total simulatenous connections </td>                  <td class="confluenceTd"> 256 </td>                </tr>              </tbody>            </table>          </td>        </tr>      </table>    </p>    <p>&nbsp;<br> &nbsp;</p>    <h2><a name="servicemix-http-XBeandeployment"></a>XBean deployment</h2>    <p>You can deploy Service Units containing a file named xbean.xml for activating consumer and provider endpoints.</p>    <p>This xml file should respect the given syntax, though this is a spring based xml configuration file from where all beans of class <span class="nobr"><a href="http://servicemix.org/maven/servicemix-http/apidocs/org/apache/servicemix/http/HttpEndpoint.html" rel="nofollow">HttpEndpoint</a></span> are retrieved.<br> See a full example <span class="nobr"><a href="http://svn.apache.org/repos/asf/incubator/servicemix/trunk/servicemix-http/src/test/resources/xbean/xbean.xml" rel="nofollow">here</a></span>.&nbsp; Note that you have to define the http namespace with</p>    <p class="paragraph">      <div class="code">        <div class="codeContent"><pre class="code-xml"><span class="code-tag">&lt;beans <span class="code-keyword">xmlns:http</span>=<span class="code-quote">&quot;http://servicemix.apache.org/http/1.0&quot;</span>&gt;</span>    ...<span class="code-tag">&lt;/beans&gt;</span></pre></div>      </div>    </p>    <p>Any numbers of endpoints can be specified in the xbean.xml file.</p>    <h3><a name="servicemix-http-Consumerendpoint"></a>Consumer endpoint</h3>    <p>A consumer endpoint is a server-side http endpoint that will consumer plain HTTP, or HTTP+SOAP requests and send them into the NMR to a given JBI endpoint, which is called the proxied endpoint.</p>    <p>Following is an example of an http consumer endpoint.</p>    <p class="paragraph">      <div class="code">        <div class="codeContent"><pre class="code-xml">&lt;http:endpoint service=<span class="code-quote">&quot;test:MyConsumerService&quot;</span>               endpoint=<span class="code-quote">&quot;myConsumer&quot;</span>               role=<span class="code-quote">&quot;consumer&quot;</span>                locationURI=<span class="code-quote">&quot;http://localhost:8192/Service/&quot;</span>               defaultMep=<span class="code-quote">&quot;http://www.w3.org/2004/08/wsdl/in-out&quot;</span> /&gt;</pre></div>      </div>      <table align="center" border=0 cellpadding=5 cellspacing="8px" class="infoMacro" width="85%">        <colgroup>          <col width=24>          <col>        </colgroup>        <tr>          <td valign="top"><img align="absmiddle" alt="" border=0 height=16 src="http://www.servicemix.org/images/icons/emoticons/information.gif" width=16></td>          <td><b class="strong">Consumer endpoint attributes</b><br>            <table class="confluenceTable">              <tbody>                <tr>                  <th class="confluenceTh"> Name </th>                  <th class="confluenceTh"> Type </th>                  <th class="confluenceTh"> Description </th>                  <th class="confluenceTh"> Required </th>                </tr>                <tr>                  <td class="confluenceTd"> service </td>                  <td class="confluenceTd"> QName </td>                  <td class="confluenceTd"> the service name of the proxied endpoint </td>                  <td class="confluenceTd">&nbsp;</td>                </tr>                <tr>                  <td class="confluenceTd"> endpoint </td>                  <td class="confluenceTd"> String </td>                  <td class="confluenceTd"> the endpoint name of the proxied endpoint </td>                  <td class="confluenceTd">&nbsp;</td>                </tr>                <tr>                  <td class="confluenceTd"> interfaceName </td>                  <td class="confluenceTd"> QName </td>                  <td class="confluenceTd"> the interface name of the proxied endpoint </td>                  <td class="confluenceTd">&nbsp;</td>                </tr>                <tr>                  <td class="confluenceTd"> role </td>                  <td class="confluenceTd"> String </td>                  <td class="confluenceTd"> must be 'consumer' </td>                  <td class="confluenceTd"> yes </td>                </tr>                <tr>                  <td class="confluenceTd"> locationURI </td>                  <td class="confluenceTd"> URI </td>                  <td class="confluenceTd"> the http url where this proxy endpoint will be exposed </td>                  <td class="confluenceTd"> yes </td>                </tr>                <tr>                  <td class="confluenceTd"> defaultMEP </td>                  <td class="confluenceTd"> URI </td>                  <td class="confluenceTd"> the default MEP uri to use </td>                  <td class="confluenceTd"> no </td>                </tr>                <tr>                  <td class="confluenceTd"> soap </td>                  <td class="confluenceTd"> boolean </td>                  <td class="confluenceTd"> if set, the component will parse the soap requests and send the content into the NMR </td>                  <td class="confluenceTd"> no (defaults to false) </td>                </tr>                <tr>                  <td class="confluenceTd"> soapVersion </td>                  <td class="confluenceTd"> string </td>                  <td class="confluenceTd"> can be set to '1.1' to force the use of SOAP 1.1 messages </td>                  <td class="confluenceTd"> no </td>                </tr>                <tr>                  <td class="confluenceTd"> wsdlResource </td>                  <td class="confluenceTd"><span class="nobr"><a href="http://springframework.org/docs/api/org/springframework/core/io/Resource.html" rel="nofollow">Spring resource</a></span></td>                  <td class="confluenceTd"> if set, the wsdl will be retrieved from the given Spring resource </td>                  <td class="confluenceTd"> no </td>                </tr>              </tbody>            </table>          </td>        </tr>      </table>    </p>    <p>&nbsp;</p>    <h3><a name="servicemix-http-Providerendpoint"></a>Provider endpoint</h3>    <p>A provider endpoint is a client-side jbi endpoint which can receive requests from the NMR and send them to a given url where the service is provided.</p>    <p>Here is an example of an http provider endpoint:</p>    <p class="paragraph">      <div class="code">        <div class="codeContent"><pre class="code-xml">&lt;http:endpoint service=<span class="code-quote">&quot;test:MyProviderService&quot;</span>               endpoint=<span class="code-quote">&quot;myProvider&quot;</span>               role=<span class="code-quote">&quot;provider&quot;</span>                locationURI=<span class="code-quote">&quot;http://localhost:8192/Service/&quot;</span>               wsdlResource=<span class="code-quote">&quot;classpath:provider.wsdl&quot;</span> /&gt;</pre></div>      </div>      <table align="center" border=0 cellpadding=5 cellspacing="8px" class="infoMacro" width="85%">        <colgroup>          <col width=24>          <col>        </colgroup>        <tr>          <td valign="top"><img align="absmiddle" alt="" border=0 height=16 src="http://www.servicemix.org/images/icons/emoticons/information.gif" width=16></td>          <td><b class="strong">Provider endpoint attributes</b><br>            <table class="confluenceTable">              <tbody>                <tr>                  <th class="confluenceTh"> Name </th>                  <th class="confluenceTh"> Type </th>                  <th class="confluenceTh"> Description </th>                  <th class="confluenceTh"> Required </th>                </tr>                <tr>                  <td class="confluenceTd"> service </td>                  <td class="confluenceTd"> QName </td>                  <td class="confluenceTd"> the service name of the exposed jbi endpoint </td>                  <td class="confluenceTd"> yes </td>                </tr>                <tr>                  <td class="confluenceTd"> endpoint </td>                  <td class="confluenceTd"> String </td>                  <td class="confluenceTd"> the endpoint name of the exposed jbi endpoint </td>                  <td class="confluenceTd"> yes </td>                </tr>                <tr>                  <td class="confluenceTd"> interfaceName </td>                  <td class="confluenceTd"> QName </td>                  <td class="confluenceTd"> the interface name of the exposed jbi endpoint </td>                  <td class="confluenceTd"> no </td>                </tr>                <tr>                  <td class="confluenceTd"> role </td>                  <td class="confluenceTd"> String </td>                  <td class="confluenceTd"> must be 'provider' </td>                  <td class="confluenceTd"> yes </td>                </tr>                <tr>                  <td class="confluenceTd"> locationURI </td>                  <td class="confluenceTd"> URI </td>                  <td class="confluenceTd"> the http url of the target service </td>                  <td class="confluenceTd"> yes </td>                </tr>                <tr>                  <td class="confluenceTd"> soap </td>                  <td class="confluenceTd"> boolean </td>                  <td class="confluenceTd"> if set, the component will parse the soap requests and send the content into the NMR </td>                  <td class="confluenceTd"> no (defaults to false) </td>                </tr>                <tr>                  <td class="confluenceTd"> wsdlResource </td>                  <td class="confluenceTd"><span class="nobr"><a href="http://springframework.org/docs/api/org/springframework/core/io/Resource.html" rel="nofollow">Spring resource</a></span></td>                  <td class="confluenceTd"> if set, the wsdl will be retrieved from the given Spring resource </td>                  <td class="confluenceTd"> no </td>                </tr>              </tbody>            </table>          </td>        </tr>      </table>    </p>    <p>&nbsp;</p>    <h2><a name="servicemix-http-WSDLDeployment"></a>WSDL Deployment</h2>    <p>In addition to xbean based deployment, the component accepts WSDL-based deployment.<br> The service unit may contain any number of WSDL files, each one being parsed and activating the specified endpoints.<br> To retrieve the necessary informations from the wsdl, the component can recognize a jbi extension, in addition to the standard http and soap bindings, which specified the role of the component and the default MEP to use for JBI exchanges.</p>    <p>Here is an example of a WSDL:</p>    <p class="paragraph">      <div class="code">        <div class="codeContent"><pre class="code-xml">&lt;definitions name='Consumer'              targetNamespace='http://http.servicemix.org/Test'              <span class="code-keyword">xmlns:tns</span>='http://http.servicemix.org/Test'              <span class="code-keyword">xmlns:http</span>='http://schemas.xmlsoap.org/wsdl/http/'              <span class="code-keyword">xmlns:soap</span>='http://schemas.xmlsoap.org/wsdl/soap/'              xmlns='http://schemas.xmlsoap.org/wsdl/'             <span class="code-keyword">xmlns:jbi</span>='http://servicemix.org/wsdl/jbi/'&gt;    <span class="code-tag">&lt;portType name='ConsumerInterface'&gt;</span>    <span class="code-tag">&lt;/portType&gt;</span>    <span class="code-tag">&lt;binding name='ConsumerSoapBinding' type='tns:ConsumerInterface'&gt;</span>        <span class="code-tag">&lt;soap:binding transport=<span class="code-quote">&quot;http&quot;</span>/&gt;</span>    <span class="code-tag">&lt;/binding&gt;</span>    <span class="code-tag">&lt;binding name='ConsumerHttpBinding' type='tns:ConsumerInterface'&gt;</span>        <span class="code-tag">&lt;http:binding verb=<span class="code-quote">&quot;POST&quot;</span>&gt;</span><span class="code-tag">&lt;/http:binding&gt;</span>    <span class="code-tag">&lt;/binding&gt;</span>    <span class="code-tag">&lt;service name='ConsumerInOnly'&gt;</span>        <span class="code-tag">&lt;port name='TestEndpoint' binding='tns:ConsumerSoapBinding'&gt;</span>            <span class="code-tag">&lt;soap:address location=<span class="code-quote">&quot;http://localhost:8192/InOnly&quot;</span>/&gt;</span>            <span class="code-tag">&lt;jbi:endpoint role=<span class="code-quote">&quot;consumer&quot;</span> defaultMep='in-only'/&gt;</span>        <span class="code-tag">&lt;/port&gt;</span>    <span class="code-tag">&lt;/service&gt;</span>    <span class="code-tag">&lt;service name='ConsumerInOut'&gt;</span>        <span class="code-tag">&lt;port name='TestEndpoint' binding='tns:ConsumerHttpBinding'&gt;</span>            <span class="code-tag">&lt;http:address location=<span class="code-quote">&quot;http://localhost:8192/InOut&quot;</span>/&gt;</span>            <span class="code-tag">&lt;jbi:endpoint role=<span class="code-quote">&quot;consumer&quot;</span> defaultMep='in-out'/&gt;</span>        <span class="code-tag">&lt;/port&gt;</span>    <span class="code-tag">&lt;/service&gt;</span>    <span class="code-tag">&lt;/definitions&gt;</span></pre></div>      </div>    </p>    <h2><a name="servicemix-http-Lightweightmode"></a>Lightweight mode</h2>    <p>The servicemix-http component can also be configured in a spring/xbean configuration file, for use in an embedded ServiceMix.<br> Here is an example of such a configuration:</p>    <p class="paragraph">      <div class="code">        <div class="codeContent"><pre class="code-xml"><span class="code-tag">&lt;sm:activationSpec&gt;</span>  <span class="code-tag">&lt;sm:component&gt;</span>    <span class="code-tag">&lt;http:component&gt;</span>      <span class="code-tag">&lt;http:endpoints&gt;</span>        &lt;http:endpoint service=<span class="code-quote">&quot;test:dummy&quot;</span>                       endpoint=<span class="code-quote">&quot;dummy&quot;</span>                       role=<span class="code-quote">&quot;consumer&quot;</span>                        soap=<span class="code-quote">&quot;true&quot;</span>                       locationURI=<span class="code-quote">&quot;http://localhost:8192/&quot;</span>                       defaultMep=<span class="code-quote">&quot;http://www.w3.org/2004/08/wsdl/in-out&quot;</span> /&gt;        &lt;http:endpoint service=<span class="code-quote">&quot;test:MyProviderService&quot;</span>                       endpoint=<span class="code-quote">&quot;myProvider&quot;</span>                       role=<span class="code-quote">&quot;provider&quot;</span>                        locationURI=<span class="code-quote">&quot;http://localhost:8192/&quot;</span> /&gt;      <span class="code-tag">&lt;/http:endpoints&gt;</span>    <span class="code-tag">&lt;/http:component&gt;</span>  <span class="code-tag">&lt;/sm:component&gt;</span><span class="code-tag">&lt;/sm:activationSpec&gt;</span></pre></div>      </div>    </p>    <h2><a name="servicemix-http-AccessingWSDLs"></a>Accessing WSDLs</h2>    <p>WSDLs for consumer endpoints are retrieved using the following method:</p>    <ul>      <li>for a WSDL based deployed endpoint, the WSL will be used as is</li>      <li>for an XBean based deployed endpoint, the WSDL will be retrieved from the wsdlResource attribute</li>      <li>if this information is not provided, the component will try to generate a WSDL by retrieving the target endpoint WSDL and adding the relevant informations to it.</li>    </ul>    <p>WSDLs are accessible with the standard '?wsdl' query string.</p>    <p>For example, the WSDL for the consumer endpoint seen in the 'WSDL Deployment' section will be available at<br><span class="nobr"><a href="http://localhost:8192/InOnly/?wsdl" rel="nofollow">http://localhost:8192/InOnly/?wsdl</a></span></p>    <h2><a name="servicemix-http-WSAddressing"></a>WS-Addressing</h2>    <p>When used on a SOAP consumer endpoint, servicemix-http handles the WS-Adressing Action and To headers.</p>    <h3><a name="servicemix-http-wsa%3AAction"></a>wsa:Action</h3>    <p>The wsa:Action header can be used to specify the target interface name and operation to use for the JBI exchange. </p>    <p>The header uses the following syntax:</p>    <p class="paragraph">      <div class="code">        <div class="codeContent"><pre class="code-java">[target namespace][delimiter][<span class="code-keyword">interface</span> name][delimiter][operation name]</pre></div>      </div>    </p>    <p>where:</p>    <ul>      <li>[delimiter] is &quot;:&quot; when the [target namespace] is a URN, otherwise &quot;/&quot;.</li>      <li>[target namespace] is the namespace of the interface.</li>      <li>[interface name] is the name of the interface.</li>      <li>[operation name] is the name of the operation.</li>    </ul>    <p>For example, the following header</p>    <p class="paragraph">      <div class="code">        <div class="codeContent"><pre class="code-xml"><span class="code-tag">&lt;wsa:Action&gt;</span>http://example.com/stockquote/StockQuoteInterface/GetLastTradePrice<span class="code-tag">&lt;/wsa:Action&gt;</span></pre></div>      </div>    </p>    <p>will be used to address the JBI exchange with the following properties:</p>    <ul>      <li>interface name: {http://example.com/stockquote\}StockQuoteInterface</li>      <li>operation name: {http://example.com/stockquote\}GetLastTradePrice</li>    </ul>    <h3><a name="servicemix-http-wsa%3ATo"></a>wsa:To</h3>    <p>The wsa:To header specifies the target JBI service name and endpoint name.</p>    <p>The header uses the following syntax:</p>    <p class="paragraph">      <div class="code">        <div class="codeContent"><pre class="code-java">[target namespace][delimiter][service name][delimiter][endpoint name]</pre></div>      </div>    </p>    <p>where:</p>    <ul>      <li>[delimiter] is &quot;:&quot; when the [target namespace] is a URN, otherwise &quot;/&quot;.</li>      <li>[target namespace] is the namespace of the interface.</li>      <li>[service name] is the name of the service.</li>      <li>[endpoint name] is the name of the endpoint.</li>    </ul>    <p>For example, the following header</p>    <p class="paragraph">      <div class="code">        <div class="codeContent"><pre class="code-xml"><span class="code-tag">&lt;wsa:To&gt;</span>urn:example:stockquote:StockQuoteService:JBIEndpoint<span class="code-tag">&lt;/wsa:To&gt;</span></pre></div>      </div>    </p>    <p>will be used to address the JBI exchange with the following properties:</p>    <ul>      <li>service name: {urn:example:stockquote}StockQuoteService</li>      <li>endpoint name: JBIEndpoint</li>    </ul>  </div></div>          &nbsp;        </td>      </tr>      <tr>        <td colspan="3" id="footer">          <table width="100%">             <tr>              <td align="left" valign="top">          Copyright 2004. All rights reserved unless otherwise noted.<br/>          Powered by <a href="http://atlassian.com/">Atlassian</a> <a href="http://atlassian.com/confluence/">Confluence</a>.              </td>              <td align="right" valign="top">          <a style="color:#999;" href="http://docs.codehaus.org/pages/editpage.action?spaceKey=SM&title=servicemix-http">[ edit ]</a>              </td>            </tr>          <table>        </td>      </tr>    </table>  </body></html>